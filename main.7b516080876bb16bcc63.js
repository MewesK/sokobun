/*!
 * SokoBun v0.0.5 (https://github.com/MewesK/sokobun#readme)
 * Copyright 2020 MewesK
 * Licensed under MIT
 */!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=140)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(112))},function(t,e,n){var o=n(0),i=n(56),r=n(6),a=n(57),c=n(61),f=n(85),u=i("wks"),s=o.Symbol,l=f?s:s&&s.withoutSetter||a;t.exports=function(t){return r(u,t)||(c&&r(s,t)?u[t]=s[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e,n){var o=n(0),i=n(34).f,r=n(10),a=n(14),c=n(54),f=n(76),u=n(82);t.exports=function(t,e){var n,s,l,h,y,d=t.target,p=t.global,w=t.stat;if(n=p?o:w?o[d]||c(d,{}):(o[d]||{}).prototype)for(s in e){if(h=e[s],l=t.noTargetGet?(y=i(n,s))&&y.value:n[s],!u(p?s:d+(w?".":"#")+s,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;f(h,l)}(t.sham||l&&l.sham)&&r(h,"sham",!0),a(n,s,h,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o=n(4);t.exports=function(t){if(!o(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(9),i=n(74),r=n(5),a=n(36),c=Object.defineProperty;e.f=o?c:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var o=n(64),i=n(14),r=n(119);o||i(Object.prototype,"toString",r,{unsafe:!0})},function(t,e,n){var o=n(3);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var o=n(9),i=n(7),r=n(30);t.exports=o?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var o=n(2),i=n(83);o({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var o=n(20),i=n(86),r=n(33),a=n(31),c=n(88),f=a.set,u=a.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){f(this,{type:"Array Iterator",target:o(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var o=n(0),i=n(102),r=n(83),a=n(10);for(var c in i){var f=o[c],u=f&&f.prototype;if(u&&u.forEach!==r)try{a(u,"forEach",r)}catch(t){u.forEach=r}}},function(t,e,n){var o=n(0),i=n(10),r=n(6),a=n(54),c=n(55),f=n(31),u=f.get,s=f.enforce,l=String(String).split("String");(t.exports=function(t,e,n,c){var f=!!c&&!!c.unsafe,u=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||r(n,"name")||i(n,"name",e),s(n).source=l.join("string"==typeof e?e:"")),t!==o?(f?!h&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},function(t,e,n){var o=n(59),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e,n){var o=n(35);t.exports=function(t){return Object(o(t))}},function(t,e,n){var o=n(9),i=n(3),r=n(6),a=Object.defineProperty,c={},f=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var n=[][t],u=!!r(e,"ACCESSORS")&&e.ACCESSORS,s=r(e,0)?e[0]:f,l=r(e,1)?e[1]:void 0;return c[t]=!!n&&!i((function(){if(u&&!o)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:f}):t[1]=1,n.call(t,s,l)}))}},function(t,e,n){"use strict";var o=n(101).charAt,i=n(31),r=n(88),a=i.set,c=i.getterFor("String Iterator");r(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=o(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var o=n(0),i=n(102),r=n(12),a=n(10),c=n(1),f=c("iterator"),u=c("toStringTag"),s=r.values;for(var l in i){var h=o[l],y=h&&h.prototype;if(y){if(y[f]!==s)try{a(y,f,s)}catch(t){y[f]=s}if(y[u]||a(y,u,l),i[l])for(var d in r)if(y[d]!==r[d])try{a(y,d,r[d])}catch(t){y[d]=r[d]}}}},function(t,e,n){var o=n(52),i=n(35);t.exports=function(t){return o(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(77),i=n(0),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(o[t])||r(i[t]):o[t]&&o[t][e]||i[t]&&i[t][e]}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var o=n(2),i=n(0),r=n(22),a=n(32),c=n(9),f=n(61),u=n(85),s=n(3),l=n(6),h=n(40),y=n(4),d=n(5),p=n(16),w=n(20),x=n(36),v=n(30),g=n(42),b=n(62),m=n(58),T=n(130),L=n(81),S=n(34),O=n(7),E=n(73),P=n(10),I=n(14),j=n(56),D=n(37),C=n(38),R=n(57),A=n(1),M=n(103),_=n(104),k=n(43),F=n(31),W=n(28).forEach,H=D("hidden"),U=A("toPrimitive"),N=F.set,B=F.getterFor("Symbol"),G=Object.prototype,z=i.Symbol,Y=r("JSON","stringify"),V=S.f,K=O.f,$=T.f,X=E.f,J=j("symbols"),q=j("op-symbols"),Q=j("string-to-symbol-registry"),Z=j("symbol-to-string-registry"),tt=j("wks"),et=i.QObject,nt=!et||!et.prototype||!et.prototype.findChild,ot=c&&s((function(){return 7!=g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,n){var o=V(G,e);o&&delete G[e],K(t,e,n),o&&t!==G&&K(G,e,o)}:K,it=function(t,e){var n=J[t]=g(z.prototype);return N(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},rt=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},at=function(t,e,n){t===G&&at(q,e,n),d(t);var o=x(e,!0);return d(n),l(J,o)?(n.enumerable?(l(t,H)&&t[H][o]&&(t[H][o]=!1),n=g(n,{enumerable:v(0,!1)})):(l(t,H)||K(t,H,v(1,{})),t[H][o]=!0),ot(t,o,n)):K(t,o,n)},ct=function(t,e){d(t);var n=w(e),o=b(n).concat(lt(n));return W(o,(function(e){c&&!ft.call(n,e)||at(t,e,n[e])})),t},ft=function(t){var e=x(t,!0),n=X.call(this,e);return!(this===G&&l(J,e)&&!l(q,e))&&(!(n||!l(this,e)||!l(J,e)||l(this,H)&&this[H][e])||n)},ut=function(t,e){var n=w(t),o=x(e,!0);if(n!==G||!l(J,o)||l(q,o)){var i=V(n,o);return!i||!l(J,o)||l(n,H)&&n[H][o]||(i.enumerable=!0),i}},st=function(t){var e=$(w(t)),n=[];return W(e,(function(t){l(J,t)||l(C,t)||n.push(t)})),n},lt=function(t){var e=t===G,n=$(e?q:w(t)),o=[];return W(n,(function(t){!l(J,t)||e&&!l(G,t)||o.push(J[t])})),o};(f||(I((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=R(t),n=function(t){this===G&&n.call(q,t),l(this,H)&&l(this[H],e)&&(this[H][e]=!1),ot(this,e,v(1,t))};return c&&nt&&ot(G,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return B(this).tag})),I(z,"withoutSetter",(function(t){return it(R(t),t)})),E.f=ft,O.f=at,S.f=ut,m.f=T.f=st,L.f=lt,M.f=function(t){return it(A(t),t)},c&&(K(z.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),a||I(G,"propertyIsEnumerable",ft,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:z}),W(b(tt),(function(t){_(t)})),o({target:"Symbol",stat:!0,forced:!f},{for:function(t){var e=String(t);if(l(Q,e))return Q[e];var n=z(e);return Q[e]=n,Z[n]=e,n},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(l(Z,t))return Z[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),o({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(t,e){return void 0===e?g(t):ct(g(t),e)},defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:ut}),o({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:st,getOwnPropertySymbols:lt}),o({target:"Object",stat:!0,forced:s((function(){L.f(1)}))},{getOwnPropertySymbols:function(t){return L.f(p(t))}}),Y)&&o({target:"JSON",stat:!0,forced:!f||s((function(){var t=z();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,e,n){for(var o,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(o=e,(y(e)||void 0!==t)&&!rt(t))return h(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!rt(e))return e}),i[1]=e,Y.apply(null,i)}});z.prototype[U]||P(z.prototype,U,z.prototype.valueOf),k(z,"Symbol"),C[H]=!0},function(t,e,n){"use strict";var o=n(2),i=n(9),r=n(0),a=n(6),c=n(4),f=n(7).f,u=n(76),s=r.Symbol;if(i&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new s(t):void 0===t?s():s(t);return""===t&&(l[e]=!0),e};u(h,s);var y=h.prototype=s.prototype;y.constructor=h;var d=y.toString,p="Symbol(test)"==String(s("test")),w=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=d.call(t);if(a(l,t))return"";var n=p?e.slice(7,-1):e.replace(w,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(104)("iterator")},function(t,e,n){"use strict";var o=n(14),i=n(5),r=n(3),a=n(105),c=RegExp.prototype,f=c.toString,u=r((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),s="toString"!=f.name;(u||s)&&o(RegExp.prototype,"toString",(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in c)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var o=n(39),i=n(52),r=n(16),a=n(15),c=n(84),f=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,s=4==t,l=6==t,h=5==t||l;return function(y,d,p,w){for(var x,v,g=r(y),b=i(g),m=o(d,p,3),T=a(b.length),L=0,S=w||c,O=e?S(y,T):n?S(y,0):void 0;T>L;L++)if((h||L in b)&&(v=m(x=b[L],L,g),t))if(e)O[L]=v;else if(v)switch(t){case 3:return!0;case 5:return x;case 6:return L;case 2:f.call(O,x)}else if(s)return!1;return l?-1:u||s?s:O}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(t,e,n){"use strict";var o,i,r,a,c=n(2),f=n(32),u=n(0),s=n(22),l=n(120),h=n(14),y=n(121),d=n(43),p=n(122),w=n(4),x=n(23),v=n(123),g=n(21),b=n(55),m=n(124),T=n(96),L=n(125),S=n(97).set,O=n(126),E=n(127),P=n(128),I=n(100),j=n(129),D=n(31),C=n(82),R=n(1),A=n(65),M=R("species"),_="Promise",k=D.get,F=D.set,W=D.getterFor(_),H=l,U=u.TypeError,N=u.document,B=u.process,G=s("fetch"),z=I.f,Y=z,V="process"==g(B),K=!!(N&&N.createEvent&&u.dispatchEvent),$=C(_,(function(){if(!(b(H)!==String(H))){if(66===A)return!0;if(!V&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!H.prototype.finally)return!0;if(A>=51&&/native code/.test(H))return!1;var t=H.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[M]=e,!(t.then((function(){}))instanceof e)})),X=$||!T((function(t){H.all(t).catch((function(){}))})),J=function(t){var e;return!(!w(t)||"function"!=typeof(e=t.then))&&e},q=function(t,e,n){if(!e.notified){e.notified=!0;var o=e.reactions;O((function(){for(var i=e.value,r=1==e.state,a=0;o.length>a;){var c,f,u,s=o[a++],l=r?s.ok:s.fail,h=s.resolve,y=s.reject,d=s.domain;try{l?(r||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?c=i:(d&&d.enter(),c=l(i),d&&(d.exit(),u=!0)),c===s.promise?y(U("Promise-chain cycle")):(f=J(c))?f.call(c,h,y):h(c)):y(i)}catch(t){d&&!u&&d.exit(),y(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},Q=function(t,e,n){var o,i;K?((o=N.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),u.dispatchEvent(o)):o={promise:e,reason:n},(i=u["on"+t])?i(o):"unhandledrejection"===t&&P("Unhandled promise rejection",n)},Z=function(t,e){S.call(u,(function(){var n,o=e.value;if(tt(e)&&(n=j((function(){V?B.emit("unhandledRejection",o,t):Q("unhandledrejection",t,o)})),e.rejection=V||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(u,(function(){V?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},nt=function(t,e,n,o){return function(i){t(e,n,i,o)}},ot=function(t,e,n,o){e.done||(e.done=!0,o&&(e=o),e.value=n,e.state=2,q(t,e,!0))},it=function(t,e,n,o){if(!e.done){e.done=!0,o&&(e=o);try{if(t===n)throw U("Promise can't be resolved itself");var i=J(n);i?O((function(){var o={done:!1};try{i.call(n,nt(it,t,o,e),nt(ot,t,o,e))}catch(n){ot(t,o,n,e)}})):(e.value=n,e.state=1,q(t,e,!1))}catch(n){ot(t,{done:!1},n,e)}}};$&&(H=function(t){v(this,H,_),x(t),o.call(this);var e=k(this);try{t(nt(it,this,e),nt(ot,this,e))}catch(t){ot(this,e,t)}},(o=function(t){F(this,{type:_,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(H.prototype,{then:function(t,e){var n=W(this),o=z(L(this,H));return o.ok="function"!=typeof t||t,o.fail="function"==typeof e&&e,o.domain=V?B.domain:void 0,n.parent=!0,n.reactions.push(o),0!=n.state&&q(this,n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new o,e=k(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(ot,t,e)},I.f=z=function(t){return t===H||t===r?new i(t):Y(t)},f||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new H((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(H,G.apply(u,arguments))}}))),c({global:!0,wrap:!0,forced:$},{Promise:H}),d(H,_,!1,!0),p(_),r=s(_),c({target:_,stat:!0,forced:$},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),c({target:_,stat:!0,forced:f||$},{resolve:function(t){return E(f&&this===r?H:this,t)}}),c({target:_,stat:!0,forced:X},{all:function(t){var e=this,n=z(e),o=n.resolve,i=n.reject,r=j((function(){var n=x(e.resolve),r=[],a=0,c=1;m(t,(function(t){var f=a++,u=!1;r.push(void 0),c++,n.call(e,t).then((function(t){u||(u=!0,r[f]=t,--c||o(r))}),i)})),--c||o(r)}));return r.error&&i(r.value),n.promise},race:function(t){var e=this,n=z(e),o=n.reject,i=j((function(){var i=x(e.resolve);m(t,(function(t){i.call(e,t).then(n.resolve,o)}))}));return i.error&&o(i.value),n.promise}})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o,i,r,a=n(113),c=n(0),f=n(4),u=n(10),s=n(6),l=n(37),h=n(38),y=c.WeakMap;if(a){var d=new y,p=d.get,w=d.has,x=d.set;o=function(t,e){return x.call(d,t,e),e},i=function(t){return p.call(d,t)||{}},r=function(t){return w.call(d,t)}}else{var v=l("state");h[v]=!0,o=function(t,e){return u(t,v,e),e},i=function(t){return s(t,v)?t[v]:{}},r=function(t){return s(t,v)}}t.exports={set:o,get:i,has:r,enforce:function(t){return r(t)?i(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!f(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var o=n(9),i=n(73),r=n(30),a=n(20),c=n(36),f=n(6),u=n(74),s=Object.getOwnPropertyDescriptor;e.f=o?s:function(t,e){if(t=a(t),e=c(e,!0),u)try{return s(t,e)}catch(t){}if(f(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var o=n(4);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(56),i=n(57),r=o("keys");t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports={}},function(t,e,n){var o=n(23);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(21);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){"use strict";var o=n(3);t.exports=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var o,i=n(5),r=n(115),a=n(60),c=n(38),f=n(87),u=n(53),s=n(37),l=s("IE_PROTO"),h=function(){},y=function(t){return"<script>"+t+"<\/script>"},d=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=o?function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=u("iframe")).style.display="none",f.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};c[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[l]=t):n=d(),void 0===e?n:r(n,e)}},function(t,e,n){var o=n(7).f,i=n(6),r=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(2),i=n(131);o({target:"Array",stat:!0,forced:!n(96)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var o=n(2),i=n(4),r=n(40),a=n(80),c=n(15),f=n(20),u=n(66),s=n(1),l=n(46),h=n(17),y=l("slice"),d=h("slice",{ACCESSORS:!0,0:0,1:2}),p=s("species"),w=[].slice,x=Math.max;o({target:"Array",proto:!0,forced:!y||!d},{slice:function(t,e){var n,o,s,l=f(this),h=c(l.length),y=a(t,h),d=a(void 0===e?h:e,h);if(r(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return w.call(l,y,d);for(o=new(void 0===n?Array:n)(x(d-y,0)),s=0;y<d;y++,s++)y in l&&u(o,s,l[y]);return o.length=s,o}})},function(t,e,n){var o=n(3),i=n(1),r=n(65),a=i("species");t.exports=function(t){return r>=51||!o((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var o=n(9),i=n(7).f,r=Function.prototype,a=r.toString,c=/^\s*function ([^ (]*)/;o&&!("name"in r)&&i(r,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var o=n(2),i=n(28).find,r=n(86),a=n(17),c=!0,f=a("find");"find"in[]&&Array(1).find((function(){c=!1})),o({target:"Array",proto:!0,forced:c||!f},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("find")},function(t,e,n){var o=n(2),i=n(3),r=n(16),a=n(63),c=n(90);o({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!c},{getPrototypeOf:function(t){return a(r(t))}})},function(t,e,n){var o=n(2),i=n(22),r=n(23),a=n(5),c=n(4),f=n(42),u=n(133),s=n(3),l=i("Reflect","construct"),h=s((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),y=!s((function(){l((function(){}))})),d=h||y;o({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){r(t),a(e);var n=arguments.length<3?t:r(arguments[2]);if(y&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(u.apply(t,o))}var i=n.prototype,s=f(c(i)?i:Object.prototype),d=Function.apply.call(t,s,e);return c(d)?d:s}})},function(t,e,n){"use strict";var o=n(2),i=n(67);o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var o=n(3),i=n(21),r="".split;t.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?r.call(t,""):Object(t)}:Object},function(t,e,n){var o=n(0),i=n(4),r=o.document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){var o=n(0),i=n(10);t.exports=function(t,e){try{i(o,t,e)}catch(n){o[t]=e}return e}},function(t,e,n){var o=n(75),i=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(t){return i.call(t)}),t.exports=o.inspectSource},function(t,e,n){var o=n(32),i=n(75);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+o).toString(36)}},function(t,e,n){var o=n(78),i=n(60).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var o=n(3);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},function(t,e,n){var o=n(78),i=n(60);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e,n){var o=n(6),i=n(16),r=n(37),a=n(90),c=r("IE_PROTO"),f=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),o(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?f:null}},function(t,e,n){var o={};o[n(1)("toStringTag")]="z",t.exports="[object z]"===String(o)},function(t,e,n){var o,i,r=n(0),a=n(99),c=r.process,f=c&&c.versions,u=f&&f.v8;u?i=(o=u.split("."))[0]+o[1]:a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(i=o[1]),t.exports=i&&+i},function(t,e,n){"use strict";var o=n(36),i=n(7),r=n(30);t.exports=function(t,e,n){var a=o(e);a in t?i.f(t,a,r(0,n)):t[a]=n}},function(t,e,n){"use strict";var o,i,r=n(105),a=n(134),c=RegExp.prototype.exec,f=String.prototype.replace,u=c,s=(o=/a/,i=/b*/g,c.call(o,"a"),c.call(i,"a"),0!==o.lastIndex||0!==i.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(s||h||l)&&(u=function(t){var e,n,o,i,a=this,u=l&&a.sticky,y=r.call(a),d=a.source,p=0,w=t;return u&&(-1===(y=y.replace("y","")).indexOf("g")&&(y+="g"),w=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(d="(?: "+d+")",w=" "+w,p++),n=new RegExp("^(?:"+d+")",y)),h&&(n=new RegExp("^"+d+"$(?!\\s)",y)),s&&(e=a.lastIndex),o=c.call(u?n:a,w),u?o?(o.input=o.input.slice(p),o[0]=o[0].slice(p),o.index=a.lastIndex,a.lastIndex+=o[0].length):a.lastIndex=0:s&&o&&(a.lastIndex=a.global?o.index+o[0].length:e),h&&o&&o.length>1&&f.call(o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o}),t.exports=u},function(t,e,n){"use strict";var o=n(135),i=n(5),r=n(15),a=n(35),c=n(136),f=n(137);o("match",1,(function(t,e,n){return[function(e){var n=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var a=i(t),u=String(this);if(!a.global)return f(a,u);var s=a.unicode;a.lastIndex=0;for(var l,h=[],y=0;null!==(l=f(a,u));){var d=String(l[0]);h[y]=d,""===d&&(a.lastIndex=c(u,r(a.lastIndex),s)),y++}return 0===y?null:h}]}))},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":8,"height":12,"characterDefinitionList":{"0":{"width":8,"x":28,"y":2,"w":7,"h":7,"ox":1,"oy":7},"1":{"width":8,"x":36,"y":2,"w":4,"h":7,"ox":2,"oy":7},"2":{"width":8,"x":41,"y":2,"w":7,"h":7,"ox":0,"oy":7},"3":{"width":7,"x":49,"y":2,"w":7,"h":7,"ox":0,"oy":7},"4":{"width":7,"x":57,"y":2,"w":5,"h":7,"ox":1,"oy":7},"5":{"width":8,"x":63,"y":2,"w":6,"h":7,"ox":1,"oy":7},"6":{"width":8,"x":70,"y":2,"w":6,"h":7,"ox":1,"oy":7},"7":{"width":8,"x":77,"y":2,"w":6,"h":7,"ox":1,"oy":7},"8":{"width":8,"x":84,"y":2,"w":6,"h":7,"ox":1,"oy":7},"9":{"width":8,"x":91,"y":2,"w":6,"h":7,"ox":1,"oy":7}," ":{"width":4,"x":1,"y":9,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":5,"x":2,"y":2,"w":3,"h":7,"ox":1,"oy":7},"\\"":{"width":8,"x":6,"y":1,"w":6,"h":2,"ox":1,"oy":8},"\'":{"width":4,"x":13,"y":1,"w":2,"h":3,"ox":2,"oy":8},"*":{"width":7,"x":16,"y":2,"w":5,"h":6,"ox":1,"oy":7},",":{"width":4,"x":22,"y":8,"w":2,"h":3,"ox":1,"oy":1},".":{"width":4,"x":25,"y":8,"w":2,"h":1,"ox":1,"oy":1},":":{"width":5,"x":98,"y":2,"w":2,"h":5,"ox":2,"oy":5},";":{"width":5,"x":101,"y":2,"w":2,"h":7,"ox":2,"oy":5},"?":{"width":7,"x":104,"y":2,"w":5,"h":7,"ox":1,"oy":7},"A":{"width":8,"x":110,"y":2,"w":6,"h":7,"ox":1,"oy":7},"B":{"width":8,"x":117,"y":2,"w":6,"h":7,"ox":1,"oy":7},"C":{"width":8,"x":1,"y":12,"w":6,"h":7,"ox":1,"oy":7},"D":{"width":8,"x":8,"y":12,"w":6,"h":7,"ox":1,"oy":7},"E":{"width":7,"x":15,"y":12,"w":6,"h":7,"ox":1,"oy":7},"F":{"width":7,"x":22,"y":12,"w":6,"h":7,"ox":1,"oy":7},"G":{"width":8,"x":29,"y":12,"w":6,"h":7,"ox":1,"oy":7},"H":{"width":8,"x":36,"y":12,"w":6,"h":7,"ox":1,"oy":7},"I":{"width":5,"x":43,"y":12,"w":4,"h":7,"ox":1,"oy":7},"J":{"width":8,"x":48,"y":12,"w":7,"h":7,"ox":0,"oy":7},"K":{"width":7,"x":56,"y":12,"w":7,"h":7,"ox":1,"oy":7},"L":{"width":7,"x":64,"y":12,"w":6,"h":7,"ox":1,"oy":7},"M":{"width":8,"x":71,"y":12,"w":6,"h":7,"ox":1,"oy":7},"N":{"width":8,"x":78,"y":12,"w":7,"h":7,"ox":0,"oy":7},"O":{"width":8,"x":86,"y":12,"w":6,"h":7,"ox":1,"oy":7},"P":{"width":8,"x":93,"y":12,"w":6,"h":7,"ox":1,"oy":7},"Q":{"width":8,"x":100,"y":12,"w":6,"h":8,"ox":1,"oy":7},"R":{"width":8,"x":107,"y":12,"w":6,"h":7,"ox":1,"oy":7},"S":{"width":8,"x":114,"y":12,"w":7,"h":7,"ox":0,"oy":7},"T":{"width":7,"x":1,"y":22,"w":7,"h":7,"ox":1,"oy":7},"U":{"width":8,"x":9,"y":22,"w":6,"h":7,"ox":1,"oy":7},"V":{"width":8,"x":16,"y":22,"w":6,"h":7,"ox":1,"oy":7},"W":{"width":8,"x":23,"y":22,"w":6,"h":7,"ox":1,"oy":7},"X":{"width":8,"x":30,"y":22,"w":6,"h":7,"ox":1,"oy":7},"Y":{"width":8,"x":37,"y":22,"w":7,"h":7,"ox":1,"oy":7},"Z":{"width":8,"x":45,"y":22,"w":6,"h":7,"ox":1,"oy":7},"a":{"width":7,"x":52,"y":24,"w":7,"h":5,"ox":1,"oy":5},"b":{"width":8,"x":60,"y":21,"w":6,"h":8,"ox":1,"oy":8},"c":{"width":7,"x":67,"y":24,"w":7,"h":5,"ox":1,"oy":5},"d":{"width":8,"x":75,"y":21,"w":6,"h":8,"ox":1,"oy":8},"e":{"width":7,"x":82,"y":24,"w":6,"h":5,"ox":1,"oy":5},"f":{"width":7,"x":89,"y":21,"w":6,"h":8,"ox":1,"oy":8},"g":{"width":8,"x":96,"y":23,"w":6,"h":8,"ox":1,"oy":6},"h":{"width":8,"x":103,"y":21,"w":6,"h":8,"ox":1,"oy":8},"i":{"width":4,"x":110,"y":22,"w":3,"h":7,"ox":1,"oy":7},"j":{"width":7,"x":114,"y":22,"w":5,"h":9,"ox":1,"oy":7},"k":{"width":8,"x":1,"y":32,"w":7,"h":8,"ox":1,"oy":8},"l":{"width":4,"x":9,"y":32,"w":3,"h":8,"ox":1,"oy":8},"m":{"width":8,"x":13,"y":34,"w":7,"h":6,"ox":0,"oy":6},"n":{"width":8,"x":21,"y":35,"w":7,"h":5,"ox":1,"oy":5},"o":{"width":8,"x":29,"y":35,"w":6,"h":5,"ox":1,"oy":5},"p":{"width":8,"x":36,"y":35,"w":6,"h":7,"ox":1,"oy":5},"q":{"width":8,"x":43,"y":35,"w":6,"h":7,"ox":1,"oy":5},"r":{"width":7,"x":50,"y":35,"w":6,"h":5,"ox":1,"oy":5},"s":{"width":8,"x":57,"y":34,"w":6,"h":6,"ox":1,"oy":6},"t":{"width":7,"x":64,"y":33,"w":6,"h":7,"ox":1,"oy":7},"u":{"width":8,"x":71,"y":35,"w":6,"h":5,"ox":1,"oy":5},"v":{"width":8,"x":78,"y":34,"w":6,"h":6,"ox":1,"oy":6},"w":{"width":8,"x":85,"y":35,"w":6,"h":5,"ox":1,"oy":5},"x":{"width":8,"x":92,"y":35,"w":7,"h":5,"ox":1,"oy":5},"y":{"width":8,"x":100,"y":35,"w":7,"h":7,"ox":0,"oy":5},"z":{"width":7,"x":108,"y":35,"w":8,"h":6,"ox":0,"oy":5},"~":{"width":7,"x":117,"y":36,"w":8,"h":3,"ox":0,"oy":4}}}')},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":10,"height":14,"characterDefinitionList":{"0":{"width":9,"x":27,"y":3,"w":9,"h":9,"ox":0,"oy":9},"1":{"width":8,"x":37,"y":3,"w":4,"h":9,"ox":2,"oy":9},"2":{"width":9,"x":42,"y":3,"w":7,"h":9,"ox":1,"oy":9},"3":{"width":10,"x":50,"y":3,"w":8,"h":9,"ox":1,"oy":9},"4":{"width":9,"x":59,"y":3,"w":7,"h":9,"ox":1,"oy":9},"5":{"width":10,"x":67,"y":3,"w":8,"h":9,"ox":1,"oy":9},"6":{"width":10,"x":76,"y":3,"w":8,"h":9,"ox":1,"oy":9},"7":{"width":10,"x":85,"y":3,"w":8,"h":9,"ox":1,"oy":9},"8":{"width":10,"x":94,"y":3,"w":9,"h":9,"ox":1,"oy":9},"9":{"width":10,"x":104,"y":3,"w":8,"h":9,"ox":1,"oy":9}," ":{"width":4,"x":1,"y":12,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":5,"x":2,"y":3,"w":3,"h":9,"ox":1,"oy":9},"\\"":{"width":8,"x":6,"y":1,"w":5,"h":4,"ox":1,"oy":11},"\'":{"width":4,"x":12,"y":1,"w":2,"h":4,"ox":2,"oy":11},"*":{"width":8,"x":15,"y":4,"w":5,"h":6,"ox":1,"oy":8},",":{"width":4,"x":21,"y":10,"w":2,"h":4,"ox":1,"oy":2},".":{"width":4,"x":24,"y":11,"w":2,"h":2,"ox":1,"oy":1},":":{"width":5,"x":113,"y":3,"w":2,"h":8,"ox":2,"oy":8},";":{"width":5,"x":116,"y":3,"w":2,"h":9,"ox":2,"oy":8},"?":{"width":8,"x":119,"y":3,"w":7,"h":10,"ox":1,"oy":9},"A":{"width":10,"x":1,"y":15,"w":8,"h":9,"ox":1,"oy":9},"B":{"width":11,"x":10,"y":15,"w":9,"h":9,"ox":1,"oy":9},"C":{"width":10,"x":20,"y":15,"w":8,"h":9,"ox":1,"oy":9},"D":{"width":10,"x":29,"y":15,"w":8,"h":9,"ox":1,"oy":9},"E":{"width":8,"x":38,"y":15,"w":7,"h":9,"ox":1,"oy":9},"F":{"width":8,"x":46,"y":15,"w":7,"h":9,"ox":1,"oy":9},"G":{"width":10,"x":54,"y":15,"w":8,"h":9,"ox":1,"oy":9},"H":{"width":10,"x":63,"y":15,"w":8,"h":9,"ox":1,"oy":9},"I":{"width":6,"x":72,"y":15,"w":4,"h":9,"ox":1,"oy":9},"J":{"width":10,"x":77,"y":15,"w":9,"h":9,"ox":0,"oy":9},"K":{"width":10,"x":87,"y":15,"w":8,"h":9,"ox":1,"oy":9},"L":{"width":7,"x":96,"y":15,"w":7,"h":9,"ox":1,"oy":9},"M":{"width":10,"x":104,"y":15,"w":8,"h":9,"ox":1,"oy":9},"N":{"width":10,"x":113,"y":15,"w":8,"h":9,"ox":1,"oy":9},"O":{"width":10,"x":1,"y":25,"w":8,"h":9,"ox":1,"oy":9},"P":{"width":10,"x":10,"y":25,"w":8,"h":9,"ox":1,"oy":9},"Q":{"width":10,"x":19,"y":25,"w":8,"h":10,"ox":1,"oy":9},"R":{"width":10,"x":28,"y":25,"w":8,"h":9,"ox":1,"oy":9},"S":{"width":10,"x":37,"y":25,"w":8,"h":9,"ox":1,"oy":9},"T":{"width":10,"x":46,"y":25,"w":8,"h":9,"ox":1,"oy":9},"U":{"width":10,"x":55,"y":25,"w":9,"h":9,"ox":1,"oy":9},"V":{"width":10,"x":65,"y":25,"w":9,"h":9,"ox":0,"oy":9},"W":{"width":10,"x":75,"y":25,"w":9,"h":9,"ox":1,"oy":9},"X":{"width":10,"x":85,"y":25,"w":8,"h":9,"ox":1,"oy":9},"Y":{"width":10,"x":94,"y":25,"w":8,"h":9,"ox":1,"oy":9},"Z":{"width":10,"x":103,"y":25,"w":8,"h":9,"ox":1,"oy":9},"a":{"width":10,"x":112,"y":27,"w":8,"h":7,"ox":1,"oy":7},"b":{"width":10,"x":1,"y":36,"w":8,"h":11,"ox":1,"oy":11},"c":{"width":10,"x":10,"y":40,"w":8,"h":7,"ox":1,"oy":7},"d":{"width":10,"x":19,"y":36,"w":8,"h":11,"ox":1,"oy":11},"e":{"width":8,"x":28,"y":40,"w":7,"h":7,"ox":1,"oy":7},"f":{"width":8,"x":36,"y":36,"w":7,"h":11,"ox":1,"oy":11},"g":{"width":10,"x":44,"y":38,"w":8,"h":11,"ox":1,"oy":9},"h":{"width":10,"x":53,"y":36,"w":8,"h":11,"ox":1,"oy":11},"i":{"width":4,"x":62,"y":38,"w":3,"h":9,"ox":1,"oy":9},"j":{"width":8,"x":66,"y":38,"w":7,"h":11,"ox":1,"oy":9},"k":{"width":10,"x":74,"y":36,"w":8,"h":11,"ox":1,"oy":11},"l":{"width":4,"x":83,"y":36,"w":3,"h":11,"ox":1,"oy":11},"m":{"width":10,"x":87,"y":38,"w":8,"h":9,"ox":1,"oy":9},"n":{"width":10,"x":96,"y":40,"w":8,"h":7,"ox":1,"oy":7},"o":{"width":10,"x":105,"y":40,"w":8,"h":7,"ox":1,"oy":7},"p":{"width":10,"x":114,"y":40,"w":8,"h":9,"ox":1,"oy":7},"q":{"width":10,"x":1,"y":52,"w":8,"h":9,"ox":1,"oy":7},"r":{"width":8,"x":10,"y":52,"w":7,"h":7,"ox":1,"oy":7},"s":{"width":8,"x":18,"y":51,"w":7,"h":8,"ox":1,"oy":8},"t":{"width":8,"x":26,"y":50,"w":7,"h":9,"ox":1,"oy":9},"u":{"width":10,"x":34,"y":52,"w":8,"h":7,"ox":1,"oy":7},"v":{"width":8,"x":43,"y":51,"w":7,"h":8,"ox":1,"oy":8},"w":{"width":10,"x":51,"y":52,"w":8,"h":7,"ox":1,"oy":7},"x":{"width":10,"x":60,"y":51,"w":8,"h":8,"ox":1,"oy":8},"y":{"width":10,"x":69,"y":51,"w":9,"h":10,"ox":0,"oy":8},"z":{"width":10,"x":79,"y":52,"w":8,"h":8,"ox":1,"oy":7},"~":{"width":10,"x":88,"y":55,"w":8,"h":3,"ox":1,"oy":4}}}')},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":12,"height":17,"characterDefinitionList":{"0":{"width":12,"x":31,"y":3,"w":10,"h":11,"ox":1,"oy":11},"1":{"width":11,"x":42,"y":3,"w":5,"h":11,"ox":3,"oy":11},"2":{"width":12,"x":48,"y":3,"w":10,"h":11,"ox":1,"oy":11},"3":{"width":11,"x":59,"y":3,"w":9,"h":11,"ox":1,"oy":11},"4":{"width":10,"x":69,"y":3,"w":8,"h":11,"ox":1,"oy":11},"5":{"width":11,"x":78,"y":3,"w":9,"h":11,"ox":1,"oy":11},"6":{"width":11,"x":88,"y":3,"w":9,"h":11,"ox":1,"oy":11},"7":{"width":11,"x":98,"y":3,"w":9,"h":11,"ox":1,"oy":11},"8":{"width":11,"x":108,"y":3,"w":10,"h":11,"ox":1,"oy":11},"9":{"width":11,"x":1,"y":18,"w":9,"h":11,"ox":1,"oy":11}," ":{"width":5,"x":1,"y":14,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":6,"x":2,"y":3,"w":4,"h":12,"ox":1,"oy":11},"\\"":{"width":10,"x":7,"y":2,"w":6,"h":5,"ox":1,"oy":12},"\'":{"width":5,"x":14,"y":1,"w":2,"h":5,"ox":3,"oy":13},"*":{"width":10,"x":17,"y":4,"w":6,"h":8,"ox":1,"oy":10},",":{"width":4,"x":24,"y":12,"w":2,"h":5,"ox":1,"oy":2},".":{"width":5,"x":27,"y":13,"w":3,"h":2,"ox":1,"oy":1},":":{"width":7,"x":11,"y":18,"w":3,"h":8,"ox":3,"oy":11},";":{"width":6,"x":15,"y":18,"w":2,"h":11,"ox":3,"oy":11},"?":{"width":10,"x":18,"y":18,"w":8,"h":11,"ox":1,"oy":11},"A":{"width":11,"x":27,"y":18,"w":9,"h":11,"ox":1,"oy":11},"B":{"width":11,"x":37,"y":18,"w":9,"h":11,"ox":1,"oy":11},"C":{"width":11,"x":47,"y":18,"w":9,"h":11,"ox":1,"oy":11},"D":{"width":11,"x":57,"y":18,"w":9,"h":11,"ox":1,"oy":11},"E":{"width":10,"x":67,"y":18,"w":8,"h":11,"ox":1,"oy":11},"F":{"width":10,"x":76,"y":18,"w":8,"h":11,"ox":1,"oy":11},"G":{"width":11,"x":85,"y":18,"w":9,"h":11,"ox":1,"oy":11},"H":{"width":11,"x":95,"y":18,"w":9,"h":11,"ox":1,"oy":11},"I":{"width":7,"x":105,"y":18,"w":5,"h":11,"ox":1,"oy":11},"J":{"width":12,"x":111,"y":18,"w":10,"h":11,"ox":1,"oy":11},"K":{"width":12,"x":1,"y":30,"w":10,"h":11,"ox":1,"oy":11},"L":{"width":9,"x":12,"y":30,"w":9,"h":11,"ox":1,"oy":11},"M":{"width":11,"x":22,"y":30,"w":9,"h":11,"ox":1,"oy":11},"N":{"width":11,"x":32,"y":30,"w":9,"h":11,"ox":1,"oy":11},"O":{"width":11,"x":42,"y":30,"w":9,"h":11,"ox":1,"oy":11},"P":{"width":11,"x":52,"y":30,"w":9,"h":11,"ox":1,"oy":11},"Q":{"width":11,"x":62,"y":30,"w":9,"h":12,"ox":1,"oy":11},"R":{"width":11,"x":72,"y":30,"w":9,"h":11,"ox":1,"oy":11},"S":{"width":11,"x":82,"y":30,"w":9,"h":11,"ox":1,"oy":11},"T":{"width":11,"x":92,"y":30,"w":9,"h":11,"ox":1,"oy":11},"U":{"width":11,"x":102,"y":30,"w":10,"h":11,"ox":1,"oy":11},"V":{"width":12,"x":113,"y":30,"w":10,"h":11,"ox":1,"oy":11},"W":{"width":11,"x":1,"y":44,"w":10,"h":11,"ox":1,"oy":11},"X":{"width":11,"x":12,"y":44,"w":9,"h":11,"ox":1,"oy":11},"Y":{"width":11,"x":22,"y":44,"w":9,"h":11,"ox":1,"oy":11},"Z":{"width":11,"x":32,"y":44,"w":9,"h":11,"ox":1,"oy":11},"a":{"width":11,"x":42,"y":47,"w":9,"h":8,"ox":1,"oy":8},"b":{"width":11,"x":52,"y":43,"w":9,"h":12,"ox":1,"oy":12},"c":{"width":11,"x":62,"y":47,"w":9,"h":8,"ox":1,"oy":8},"d":{"width":11,"x":72,"y":43,"w":9,"h":12,"ox":1,"oy":12},"e":{"width":10,"x":82,"y":47,"w":8,"h":8,"ox":1,"oy":8},"f":{"width":10,"x":91,"y":43,"w":8,"h":12,"ox":1,"oy":12},"g":{"width":11,"x":100,"y":46,"w":9,"h":12,"ox":1,"oy":9},"h":{"width":11,"x":110,"y":43,"w":9,"h":12,"ox":1,"oy":12},"i":{"width":5,"x":120,"y":44,"w":4,"h":11,"ox":1,"oy":11},"j":{"width":10,"x":1,"y":60,"w":8,"h":14,"ox":1,"oy":11},"k":{"width":11,"x":10,"y":59,"w":9,"h":12,"ox":1,"oy":12},"l":{"width":5,"x":20,"y":59,"w":4,"h":12,"ox":1,"oy":12},"m":{"width":11,"x":25,"y":61,"w":9,"h":10,"ox":1,"oy":10},"n":{"width":11,"x":35,"y":63,"w":9,"h":8,"ox":1,"oy":8},"o":{"width":11,"x":45,"y":63,"w":9,"h":8,"ox":1,"oy":8},"p":{"width":11,"x":55,"y":63,"w":9,"h":11,"ox":1,"oy":8},"q":{"width":11,"x":65,"y":63,"w":9,"h":11,"ox":1,"oy":8},"r":{"width":10,"x":75,"y":63,"w":8,"h":8,"ox":1,"oy":8},"s":{"width":10,"x":84,"y":62,"w":8,"h":9,"ox":1,"oy":9},"t":{"width":10,"x":93,"y":60,"w":8,"h":11,"ox":1,"oy":11},"u":{"width":11,"x":102,"y":63,"w":9,"h":8,"ox":1,"oy":8},"v":{"width":11,"x":112,"y":62,"w":9,"h":9,"ox":1,"oy":9},"w":{"width":11,"x":1,"y":76,"w":9,"h":8,"ox":1,"oy":8},"x":{"width":11,"x":11,"y":75,"w":9,"h":9,"ox":1,"oy":9},"y":{"width":12,"x":21,"y":75,"w":11,"h":12,"ox":0,"oy":9},"z":{"width":11,"x":33,"y":76,"w":9,"h":9,"ox":1,"oy":8},"~":{"width":11,"x":43,"y":78,"w":9,"h":4,"ox":1,"oy":6}}}')},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":14,"height":20,"characterDefinitionList":{"0":{"width":13,"x":38,"y":4,"w":12,"h":12,"ox":1,"oy":12},"1":{"width":12,"x":51,"y":4,"w":6,"h":12,"ox":3,"oy":12},"2":{"width":13,"x":58,"y":4,"w":10,"h":12,"ox":2,"oy":12},"3":{"width":14,"x":69,"y":4,"w":11,"h":12,"ox":2,"oy":12},"4":{"width":13,"x":81,"y":4,"w":9,"h":12,"ox":2,"oy":12},"5":{"width":14,"x":91,"y":4,"w":11,"h":12,"ox":2,"oy":12},"6":{"width":14,"x":103,"y":4,"w":11,"h":12,"ox":2,"oy":12},"7":{"width":14,"x":115,"y":4,"w":11,"h":12,"ox":2,"oy":12},"8":{"width":14,"x":1,"y":20,"w":11,"h":12,"ox":2,"oy":12},"9":{"width":14,"x":13,"y":20,"w":11,"h":12,"ox":2,"oy":12}," ":{"width":6,"x":1,"y":16,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":9,"x":2,"y":4,"w":5,"h":13,"ox":2,"oy":12},"\\"":{"width":13,"x":8,"y":2,"w":8,"h":5,"ox":2,"oy":14},"\'":{"width":6,"x":17,"y":1,"w":3,"h":6,"ox":3,"oy":15},"*":{"width":13,"x":21,"y":6,"w":8,"h":8,"ox":2,"oy":10},",":{"width":7,"x":30,"y":13,"w":3,"h":6,"ox":2,"oy":3},".":{"width":7,"x":34,"y":14,"w":3,"h":3,"ox":2,"oy":2},":":{"width":8,"x":25,"y":20,"w":3,"h":10,"ox":3,"oy":12},";":{"width":8,"x":29,"y":20,"w":3,"h":12,"ox":3,"oy":12},"?":{"width":12,"x":33,"y":20,"w":9,"h":13,"ox":2,"oy":12},"A":{"width":14,"x":43,"y":20,"w":11,"h":12,"ox":2,"oy":12},"B":{"width":13,"x":55,"y":20,"w":10,"h":12,"ox":2,"oy":12},"C":{"width":14,"x":66,"y":20,"w":11,"h":12,"ox":2,"oy":12},"D":{"width":14,"x":78,"y":20,"w":11,"h":12,"ox":2,"oy":12},"E":{"width":12,"x":90,"y":20,"w":9,"h":12,"ox":2,"oy":12},"F":{"width":12,"x":100,"y":20,"w":9,"h":12,"ox":2,"oy":12},"G":{"width":14,"x":110,"y":20,"w":11,"h":12,"ox":2,"oy":12},"H":{"width":14,"x":1,"y":34,"w":11,"h":12,"ox":2,"oy":12},"I":{"width":9,"x":13,"y":34,"w":6,"h":12,"ox":2,"oy":12},"J":{"width":13,"x":20,"y":34,"w":11,"h":12,"ox":1,"oy":12},"K":{"width":14,"x":32,"y":34,"w":11,"h":12,"ox":2,"oy":12},"L":{"width":11,"x":44,"y":34,"w":10,"h":12,"ox":2,"oy":12},"M":{"width":14,"x":55,"y":34,"w":11,"h":12,"ox":2,"oy":12},"N":{"width":14,"x":67,"y":34,"w":11,"h":12,"ox":2,"oy":12},"O":{"width":14,"x":79,"y":34,"w":11,"h":12,"ox":2,"oy":12},"P":{"width":14,"x":91,"y":34,"w":11,"h":12,"ox":2,"oy":12},"Q":{"width":14,"x":103,"y":34,"w":11,"h":13,"ox":2,"oy":12},"R":{"width":14,"x":115,"y":34,"w":11,"h":12,"ox":2,"oy":12},"S":{"width":14,"x":1,"y":50,"w":11,"h":12,"ox":2,"oy":12},"T":{"width":14,"x":13,"y":50,"w":11,"h":12,"ox":2,"oy":12},"U":{"width":14,"x":25,"y":50,"w":11,"h":12,"ox":2,"oy":12},"V":{"width":13,"x":37,"y":50,"w":11,"h":12,"ox":1,"oy":12},"W":{"width":14,"x":49,"y":50,"w":11,"h":12,"ox":2,"oy":12},"X":{"width":14,"x":61,"y":50,"w":11,"h":12,"ox":2,"oy":12},"Y":{"width":14,"x":73,"y":50,"w":11,"h":12,"ox":2,"oy":12},"Z":{"width":14,"x":85,"y":50,"w":11,"h":12,"ox":2,"oy":12},"a":{"width":14,"x":97,"y":53,"w":11,"h":9,"ox":2,"oy":9},"b":{"width":14,"x":109,"y":48,"w":11,"h":14,"ox":2,"oy":14},"c":{"width":14,"x":1,"y":68,"w":11,"h":9,"ox":2,"oy":9},"d":{"width":14,"x":13,"y":63,"w":11,"h":14,"ox":2,"oy":14},"e":{"width":12,"x":25,"y":68,"w":9,"h":9,"ox":2,"oy":9},"f":{"width":12,"x":35,"y":63,"w":9,"h":14,"ox":2,"oy":14},"g":{"width":14,"x":45,"y":66,"w":11,"h":14,"ox":2,"oy":11},"h":{"width":14,"x":57,"y":63,"w":11,"h":14,"ox":2,"oy":14},"i":{"width":7,"x":69,"y":65,"w":5,"h":12,"ox":2,"oy":12},"j":{"width":12,"x":75,"y":65,"w":9,"h":15,"ox":2,"oy":12},"k":{"width":14,"x":85,"y":63,"w":11,"h":14,"ox":2,"oy":14},"l":{"width":7,"x":97,"y":63,"w":5,"h":14,"ox":2,"oy":14},"m":{"width":14,"x":103,"y":66,"w":11,"h":11,"ox":2,"oy":11},"n":{"width":14,"x":115,"y":68,"w":11,"h":9,"ox":2,"oy":9},"o":{"width":14,"x":1,"y":84,"w":11,"h":9,"ox":2,"oy":9},"p":{"width":14,"x":13,"y":84,"w":11,"h":12,"ox":2,"oy":9},"q":{"width":14,"x":25,"y":84,"w":11,"h":12,"ox":2,"oy":9},"r":{"width":12,"x":37,"y":84,"w":9,"h":9,"ox":2,"oy":9},"s":{"width":12,"x":47,"y":83,"w":9,"h":10,"ox":2,"oy":10},"t":{"width":12,"x":57,"y":81,"w":9,"h":12,"ox":2,"oy":12},"u":{"width":14,"x":67,"y":84,"w":11,"h":9,"ox":2,"oy":9},"v":{"width":14,"x":79,"y":82,"w":11,"h":11,"ox":2,"oy":11},"w":{"width":14,"x":91,"y":84,"w":11,"h":9,"ox":2,"oy":9},"x":{"width":14,"x":103,"y":82,"w":11,"h":11,"ox":2,"oy":11},"y":{"width":13,"x":1,"y":97,"w":12,"h":13,"ox":0,"oy":10},"z":{"width":14,"x":14,"y":98,"w":11,"h":10,"ox":2,"oy":9},"~":{"width":14,"x":26,"y":101,"w":11,"h":4,"ox":2,"oy":6}}}')},function(t,e,n){"use strict";var o={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!o.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:o},function(t,e,n){var o=n(9),i=n(3),r=n(53);t.exports=!o&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var o=n(0),i=n(54),r=o["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=r},function(t,e,n){var o=n(6),i=n(114),r=n(34),a=n(7);t.exports=function(t,e){for(var n=i(e),c=a.f,f=r.f,u=0;u<n.length;u++){var s=n[u];o(t,s)||c(t,s,f(e,s))}}},function(t,e,n){var o=n(0);t.exports=o},function(t,e,n){var o=n(6),i=n(20),r=n(79).indexOf,a=n(38);t.exports=function(t,e){var n,c=i(t),f=0,u=[];for(n in c)!o(a,n)&&o(c,n)&&u.push(n);for(;e.length>f;)o(c,n=e[f++])&&(~r(u,n)||u.push(n));return u}},function(t,e,n){var o=n(20),i=n(15),r=n(80),a=function(t){return function(e,n,a){var c,f=o(e),u=i(f.length),s=r(a,u);if(t&&n!=n){for(;u>s;)if((c=f[s++])!=c)return!0}else for(;u>s;s++)if((t||s in f)&&f[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var o=n(59),i=Math.max,r=Math.min;t.exports=function(t,e){var n=o(t);return n<0?i(n+e,0):r(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(3),i=/#|\.prototype\./,r=function(t,e){var n=c[a(t)];return n==u||n!=f&&("function"==typeof e?o(e):!!e)},a=r.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=r.data={},f=r.NATIVE="N",u=r.POLYFILL="P";t.exports=r},function(t,e,n){"use strict";var o=n(28).forEach,i=n(41),r=n(17),a=i("forEach"),c=r("forEach");t.exports=a&&c?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var o=n(4),i=n(40),r=n(1)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var o=n(61);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var o=n(1),i=n(42),r=n(7),a=o("unscopables"),c=Array.prototype;null==c[a]&&r.f(c,a,{configurable:!0,value:i(null)}),t.exports=function(t){c[a][t]=!0}},function(t,e,n){var o=n(22);t.exports=o("document","documentElement")},function(t,e,n){"use strict";var o=n(2),i=n(116),r=n(63),a=n(117),c=n(43),f=n(10),u=n(14),s=n(1),l=n(32),h=n(33),y=n(89),d=y.IteratorPrototype,p=y.BUGGY_SAFARI_ITERATORS,w=s("iterator"),x=function(){return this};t.exports=function(t,e,n,s,y,v,g){i(n,e,s);var b,m,T,L=function(t){if(t===y&&I)return I;if(!p&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",O=!1,E=t.prototype,P=E[w]||E["@@iterator"]||y&&E[y],I=!p&&P||L(y),j="Array"==e&&E.entries||P;if(j&&(b=r(j.call(new t)),d!==Object.prototype&&b.next&&(l||r(b)===d||(a?a(b,d):"function"!=typeof b[w]&&f(b,w,x)),c(b,S,!0,!0),l&&(h[S]=x))),"values"==y&&P&&"values"!==P.name&&(O=!0,I=function(){return P.call(this)}),l&&!g||E[w]===I||f(E,w,I),h[e]=I,y)if(m={values:L("values"),keys:v?I:L("keys"),entries:L("entries")},g)for(T in m)(p||O||!(T in E))&&u(E,T,m[T]);else o({target:e,proto:!0,forced:p||O},m);return m}},function(t,e,n){"use strict";var o,i,r,a=n(63),c=n(10),f=n(6),u=n(1),s=n(32),l=u("iterator"),h=!1;[].keys&&("next"in(r=[].keys())?(i=a(a(r)))!==Object.prototype&&(o=i):h=!0),null==o&&(o={}),s||f(o,l)||c(o,l,(function(){return this})),t.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var o=n(3);t.exports=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var o=n(2),i=n(16),r=n(62);o({target:"Object",stat:!0,forced:n(3)((function(){r(1)}))},{keys:function(t){return r(i(t))}})},function(t,e,n){var o=n(64),i=n(21),r=n(1)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=o?i:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:a?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){var o=n(1),i=n(33),r=o("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},function(t,e,n){var o=n(92),i=n(33),r=n(1)("iterator");t.exports=function(t){if(null!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){var o=n(5);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},function(t,e,n){var o=n(1)("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var o,i,r,a=n(0),c=n(3),f=n(21),u=n(39),s=n(87),l=n(53),h=n(98),y=a.location,d=a.setImmediate,p=a.clearImmediate,w=a.process,x=a.MessageChannel,v=a.Dispatch,g=0,b={},m=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},T=function(t){return function(){m(t)}},L=function(t){m(t.data)},S=function(t){a.postMessage(t+"",y.protocol+"//"+y.host)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},o(g),g},p=function(t){delete b[t]},"process"==f(w)?o=function(t){w.nextTick(T(t))}:v&&v.now?o=function(t){v.now(T(t))}:x&&!h?(r=(i=new x).port2,i.port1.onmessage=L,o=u(r.postMessage,r,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||c(S)||"file:"===y.protocol?o="onreadystatechange"in l("script")?function(t){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),m(t)}}:function(t){setTimeout(T(t),0)}:(o=S,a.addEventListener("message",L,!1))),t.exports={set:d,clear:p}},function(t,e,n){var o=n(99);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},function(t,e,n){var o=n(22);t.exports=o("navigator","userAgent")||""},function(t,e,n){"use strict";var o=n(23),i=function(t){var e,n;this.promise=new t((function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o})),this.resolve=o(e),this.reject=o(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){var o=n(59),i=n(35),r=function(t){return function(e,n){var r,a,c=String(i(e)),f=o(n),u=c.length;return f<0||f>=u?t?"":void 0:(r=c.charCodeAt(f))<55296||r>56319||f+1===u||(a=c.charCodeAt(f+1))<56320||a>57343?t?c.charAt(f):r:t?c.slice(f,f+2):a-56320+(r-55296<<10)+65536}};t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var o=n(1);e.f=o},function(t,e,n){var o=n(77),i=n(6),r=n(103),a=n(7).f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});i(e,t)||a(e,t,{value:r.f(t)})}},function(t,e,n){"use strict";var o=n(5);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var o=n(2),i=n(3),r=n(40),a=n(4),c=n(16),f=n(15),u=n(66),s=n(84),l=n(46),h=n(1),y=n(65),d=h("isConcatSpreadable"),p=y>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),w=l("concat"),x=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:r(t)};o({target:"Array",proto:!0,forced:!p||!w},{concat:function(t){var e,n,o,i,r,a=c(this),l=s(a,0),h=0;for(e=-1,o=arguments.length;e<o;e++)if(x(r=-1===e?a:arguments[e])){if(h+(i=f(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in r&&u(l,h,r[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(l,h++,r)}return l.length=h,l}})},function(t,e,n){"use strict";var o=n(2),i=n(28).map,r=n(46),a=n(17),c=r("map"),f=a("map");o({target:"Array",proto:!0,forced:!c||!f},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o=n(2),i=n(132).left,r=n(41),a=n(17),c=r("reduce"),f=a("reduce",{1:0});o({target:"Array",proto:!0,forced:!c||!f},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o=n(2),i=n(28).filter,r=n(46),a=n(17),c=r("filter"),f=a("filter");o({target:"Array",proto:!0,forced:!c||!f},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){},function(t,e,n){},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(0),i=n(55),r=o.WeakMap;t.exports="function"==typeof r&&/native code/.test(i(r))},function(t,e,n){var o=n(22),i=n(58),r=n(81),a=n(5);t.exports=o("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var o=n(9),i=n(7),r=n(5),a=n(62);t.exports=o?Object.defineProperties:function(t,e){r(t);for(var n,o=a(e),c=o.length,f=0;c>f;)i.f(t,n=o[f++],e[n]);return t}},function(t,e,n){"use strict";var o=n(89).IteratorPrototype,i=n(42),r=n(30),a=n(43),c=n(33),f=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(o,{next:r(1,n)}),a(t,u,!1,!0),c[u]=f,t}},function(t,e,n){var o=n(5),i=n(118);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t.call(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var o=n(4);t.exports=function(t){if(!o(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var o=n(64),i=n(92);t.exports=o?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var o=n(0);t.exports=o.Promise},function(t,e,n){var o=n(14);t.exports=function(t,e,n){for(var i in e)o(t,i,e[i],n);return t}},function(t,e,n){"use strict";var o=n(22),i=n(7),r=n(1),a=n(9),c=r("species");t.exports=function(t){var e=o(t),n=i.f;a&&e&&!e[c]&&n(e,c,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var o=n(5),i=n(93),r=n(15),a=n(39),c=n(94),f=n(95),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,s,l){var h,y,d,p,w,x,v,g=a(e,n,s?2:1);if(l)h=t;else{if("function"!=typeof(y=c(t)))throw TypeError("Target is not iterable");if(i(y)){for(d=0,p=r(t.length);p>d;d++)if((w=s?g(o(v=t[d])[0],v[1]):g(t[d]))&&w instanceof u)return w;return new u(!1)}h=y.call(t)}for(x=h.next;!(v=x.call(h)).done;)if("object"==typeof(w=f(h,g,v.value,s))&&w&&w instanceof u)return w;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var o=n(5),i=n(23),r=n(1)("species");t.exports=function(t,e){var n,a=o(t).constructor;return void 0===a||null==(n=o(a)[r])?e:i(n)}},function(t,e,n){var o,i,r,a,c,f,u,s,l=n(0),h=n(34).f,y=n(21),d=n(97).set,p=n(98),w=l.MutationObserver||l.WebKitMutationObserver,x=l.process,v=l.Promise,g="process"==y(x),b=h(l,"queueMicrotask"),m=b&&b.value;m||(o=function(){var t,e;for(g&&(t=x.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():r=void 0,t}}r=void 0,t&&t.enter()},g?a=function(){x.nextTick(o)}:w&&!p?(c=!0,f=document.createTextNode(""),new w(o).observe(f,{characterData:!0}),a=function(){f.data=c=!c}):v&&v.resolve?(u=v.resolve(void 0),s=u.then,a=function(){s.call(u,o)}):a=function(){d.call(l,o)}),t.exports=m||function(t){var e={fn:t,next:void 0};r&&(r.next=e),i||(i=e,a()),r=e}},function(t,e,n){var o=n(5),i=n(4),r=n(100);t.exports=function(t,e){if(o(t),i(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var o=n(0);t.exports=function(t,e){var n=o.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var o=n(20),i=n(58).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(o(t))}},function(t,e,n){"use strict";var o=n(39),i=n(16),r=n(95),a=n(93),c=n(15),f=n(66),u=n(94);t.exports=function(t){var e,n,s,l,h,y,d=i(t),p="function"==typeof this?this:Array,w=arguments.length,x=w>1?arguments[1]:void 0,v=void 0!==x,g=u(d),b=0;if(v&&(x=o(x,w>2?arguments[2]:void 0,2)),null==g||p==Array&&a(g))for(n=new p(e=c(d.length));e>b;b++)y=v?x(d[b],b):d[b],f(n,b,y);else for(h=(l=g.call(d)).next,n=new p;!(s=h.call(l)).done;b++)y=v?r(l,x,[s.value,b],!0):s.value,f(n,b,y);return n.length=b,n}},function(t,e,n){var o=n(23),i=n(16),r=n(52),a=n(15),c=function(t){return function(e,n,c,f){o(n);var u=i(e),s=r(u),l=a(u.length),h=t?l-1:0,y=t?-1:1;if(c<2)for(;;){if(h in s){f=s[h],h+=y;break}if(h+=y,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=y)h in s&&(f=n(f,s[h],h,u));return f}};t.exports={left:c(!1),right:c(!0)}},function(t,e,n){"use strict";var o=n(23),i=n(4),r=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var o=[],i=0;i<e;i++)o[i]="a["+i+"]";a[e]=Function("C,a","return new C("+o.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=o(this),n=r.call(arguments,1),a=function(){var o=n.concat(r.call(arguments));return this instanceof a?c(e,o.length,o):e.apply(t,o)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";var o=n(3);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";n(51);var o=n(14),i=n(3),r=n(1),a=n(67),c=n(10),f=r("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),s="$0"==="a".replace(/./,"$0"),l=r("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),y=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var d=r(t),p=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),w=p&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[f]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!p||!w||"replace"===t&&(!u||!s||h)||"split"===t&&!y){var x=/./[d],v=n(d,""[t],(function(t,e,n,o,i){return e.exec===a?p&&!i?{done:!0,value:x.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),g=v[0],b=v[1];o(String.prototype,t,g),o(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}l&&c(RegExp.prototype[d],"sham",!0)}},function(t,e,n){"use strict";var o=n(101).charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},function(t,e,n){var o=n(21),i=n(67);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";var o=n(2),i=n(79).indexOf,r=n(41),a=n(17),c=[].indexOf,f=!!c&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),s=a("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:f||!u||!s},{indexOf:function(t){return f?c.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o=n(2),i=n(28).some,r=n(41),a=n(17),c=r("some"),f=a("some");o({target:"Array",proto:!0,forced:!c||!f},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n.r(e);n(110),n(111),n(11),n(12),n(91),n(8),n(29),n(18),n(13),n(19);var o,i=n.p+"f90da3eebb31deea32b2bf064df9c2d8.png",r=n.p+"b928d88f4be87ddc017e147e8bc75963.png",a=n(69),c=n.p+"41686cf726ea390cf3ad491078670f70.png",f=n.p+"4aab5d98db09a305a9f49056351a6177.png",u=n(70),s=n.p+"597502e16af153b82f5a90a0f831eca4.png",l=n.p+"0a848bb273d1143f8554daffc60c5b43.png",h=n(71),y=n.p+"eb7af1bd31ca3c01257595548f607c27.png",d=n.p+"2b77e19c87145ba7f6737cb29dcca394.png",p=n(72);n(24),n(25),n(26),n(44),n(45),n(47),n(27);function w(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Bright=0]="Bright",t[t.Dark=1]="Dark"}(o||(o={}));var g=function t(e,n,o,i,r,a){var c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"resource",void 0),v(this,"color",void 0),v(this,"family",void 0),v(this,"size",void 0),v(this,"height",void 0),v(this,"characterDefinitionList",void 0),v(this,"draw",(function(t,e,n,o){var i,r=e,a=n;return w(t).forEach((function(t){void 0!==(i=c.characterDefinitionList[t])&&(o.imageSmoothingEnabled=!1,o.drawImage(c.resource.data,i.x,i.y,i.w,i.h,r,a+(c.size-i.oy),i.w,i.h),r+=i.width-i.ox)})),c})),v(this,"calculateSize",(function(t){var e,n=0;return w(t).forEach((function(t){void 0!==(e=c.characterDefinitionList[t])&&(n+=e.width-e.ox)})),[n,c.height]})),this.resource=e,this.color=n,this.family=o,this.size=i,this.height=r,this.characterDefinitionList=a},b=[[a,o.Bright,i],[a,o.Dark,r],[u,o.Bright,c],[u,o.Dark,f],[h,o.Bright,s],[h,o.Dark,l],[p,o.Bright,y],[p,o.Dark,d]];n(48);function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"resourceLoader",void 0),m(this,"cache",[]),m(this,"load",(function(t){return new Promise((function(e){t.forEach((function(t){n.cache.push(new g(n.resourceLoader.get(t[2]),t[1],t[0].family,t[0].size,t[0].height,t[0].characterDefinitionList))})),e()}))})),m(this,"get",(function(t,e,o){var i=n.cache.find((function(n){return n.family===t&&n.size===e&&n.color===o}));if(void 0===i)throw new Error("Invalid family or size.");return i})),this.resourceLoader=e},L=(n(106),n(107),n(108),n(49),n(50),n(51),n(68),n.p+"ad9434618e9b8fd6c1232bfd41031907.png"),S=n.p+"5b47e2945a706a1738dd8463b4772f7b.png",O=n.p+"42c38fbb680cf2ce95816f178f192240.png",E=n.p+"2b400243341ac6d6b5c4717e94a123fc.png",P=n.p+"3ac104786691a283578f52ad4ecab570.png",I=n.p+"33d9c1db41dd262f50f3a6e1461034db.png",j=n.p+"da09a3c0ed12bdb2484a082ae27f088a.png",D=n.p+"79f0a9b98b9463ef30f305c3364e659b.png",C=n.p+"52201edfc533f3459205f5e694f4a7db.png",R=n.p+"b087c3e1a7efc4a292307d814181c115.png",A=n.p+"f82991973d9bb3e603a95c9efa8e9245.png";var M=function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=!1,(n="finished")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o};function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k,F=function t(e,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"left",void 0),_(this,"right",void 0),_(this,"top",void 0),_(this,"bottom",void 0),this.left=e,this.right=n,this.top=o,this.bottom=i};function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Walk=0]="Walk",t[t.Push=1]="Push",t[t.Stand=2]="Stand"}(k||(k={}));var U,N=function t(e){if(W(this,t),H(this,"directionRecord",void 0),0===Object.keys(e).length)throw new Error("There must be at least one direction.");this.directionRecord=e};!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(U||(U={}));var B=function t(e,n){if(W(this,t),H(this,"tileCoordinatesList",void 0),H(this,"duration",void 0),0===e.length)throw new Error("There must be at least one pair of tile coordinates.");this.tileCoordinatesList=e,this.duration=n},G=function t(e,n,o){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Stand,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U.Down;if(W(this,t),H(this,"tileMap",void 0),H(this,"actionRecord",void 0),H(this,"collisionOffset",void 0),H(this,"actionType",void 0),H(this,"directionType",void 0),H(this,"x",0),H(this,"y",0),H(this,"endX",0),H(this,"endY",0),H(this,"actionTimer",0),H(this,"animationIndex",0),H(this,"animationTimer",0),H(this,"setAction",(function(t,e){if(i.x===i.endX&&i.y===i.endY){if(void 0===i.actionRecord[t])throw new Error("Invalid action type");if(void 0===i.getAction().directionRecord[e])throw new Error("Invalid direction type");if(i.actionType=t,i.directionType=e,i.actionTimer=0,i.animationIndex=0,i.animationTimer=0,i.actionType!==k.Stand)switch(e){case U.Up:i.endY-=$t.TILE_HEIGHT;break;case U.Down:i.endY+=$t.TILE_HEIGHT;break;case U.Left:i.endX-=$t.TILE_WIDTH;break;case U.Right:i.endX+=$t.TILE_WIDTH}}})),H(this,"update",(function(t){var e=16/(i.getDirection().duration/t);i.x>i.endX?i.x-=e:i.x<i.endX&&(i.x+=e),i.y>i.endY?i.y-=e:i.y<i.endY&&(i.y+=e),i.actionTimer+=t,i.animationTimer+=t;var n=i.getDirection(),o=n.tileCoordinatesList[i.animationIndex];i.animationTimer>o[2]&&o[2]>0&&(i.animationTimer=0,i.animationIndex++,i.animationIndex>=n.tileCoordinatesList.length&&(i.animationIndex=0)),i.actionTimer>=n.duration&&(i.setAction(k.Stand,i.directionType),i.x=i.endX,i.y=i.endY)})),H(this,"draw",(function(t,e,n){var o=i.getDirection().tileCoordinatesList[i.animationIndex];i.tileMap.get(o[0],o[1]).draw(t+i.x-i.collisionOffset.left,e+i.y-i.collisionOffset.top,n)})),H(this,"getCoordinates",(function(){return[Math.floor(i.x/$t.TILE_WIDTH),Math.floor(i.y/$t.TILE_HEIGHT)]})),H(this,"setCoordinates",(function(t,e){i.x=t*$t.TILE_WIDTH,i.y=e*$t.TILE_HEIGHT,i.endX=i.x,i.endY=i.y})),H(this,"getAction",(function(){return i.actionRecord[i.actionType]})),H(this,"getDirection",(function(){return i.getAction().directionRecord[i.directionType]})),0===Object.keys(n).length)throw new Error("There must be at least one action.");this.tileMap=e,this.actionRecord=n,this.collisionOffset=o,this.actionType=r,this.directionType=a};function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=X(t);if(e){var i=X(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return $(this,n)}}function $(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(n,t);var e=K(n);function n(t){var o,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,t,(Y(r={},k.Stand,new N((Y(o={},U.Up,new B([[0,0,0]],0)),Y(o,U.Down,new B([[0,0,0]],0)),Y(o,U.Left,new B([[0,0,0]],0)),Y(o,U.Right,new B([[0,0,0]],0)),o))),Y(r,k.Walk,new N((Y(i={},U.Up,new B([[0,0,0]],.5)),Y(i,U.Down,new B([[0,0,0]],.5)),Y(i,U.Left,new B([[0,0,0]],.5)),Y(i,U.Right,new B([[0,0,0]],.5)),i))),r),new F(0,16,4,16))}return n}(G);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=nt(t);if(e){var i=nt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return et(this,n)}}function et(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(n,t);var e=tt(n);function n(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,t,Q({},k.Stand,new N((Q(o={},U.Up,new B([[0,0,0]],0)),Q(o,U.Down,new B([[0,0,0]],0)),Q(o,U.Left,new B([[0,0,0]],0)),Q(o,U.Right,new B([[0,0,0]],0)),o))),new F(0,16,2,16))}return n}(G);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ut(t);if(e){var i=ut(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ft(this,n)}}function ft(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st,lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(n,t);var e=ct(n);function n(t){var o,i,r,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,t,(rt(a={},k.Stand,new N((rt(o={},U.Up,new B([[2,0,0]],0)),rt(o,U.Down,new B([[3,0,0]],0)),rt(o,U.Left,new B([[0,0,0]],0)),rt(o,U.Right,new B([[1,0,0]],0)),o))),rt(a,k.Walk,new N((rt(i={},U.Up,new B([[2,1,.15],[2,0,.1],[2,2,.15],[2,0,.1]],.5)),rt(i,U.Down,new B([[3,1,.15],[3,0,.1],[3,2,.15],[3,0,.1]],.5)),rt(i,U.Left,new B([[0,1,.15],[0,0,.1],[0,2,.15],[0,0,.1]],.5)),rt(i,U.Right,new B([[1,1,.15],[1,0,.1],[1,2,.15],[1,0,.1]],.5)),i))),rt(a,k.Push,new N((rt(r={},U.Up,new B([[2,4,.15],[2,3,.1],[2,5,.15],[2,3,.1]],.5)),rt(r,U.Down,new B([[3,4,.15],[3,3,.1],[3,5,.15],[3,3,.1]],.5)),rt(r,U.Left,new B([[0,4,.15],[0,3,.1],[0,5,.15],[0,3,.1]],.5)),rt(r,U.Right,new B([[1,4,.15],[1,3,.1],[1,5,.15],[1,3,.1]],.5)),r))),a),new F(1,18,12,24))}return n}(G);function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Undefined=-1]="Undefined",t[t.Wall=0]="Wall",t[t.Floor=1]="Floor",t[t.Void=2]="Void",t[t.Water=3]="Water"}(st||(st={}));var yt=function t(e,n,o,i,r){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ht(this,"resource",void 0),ht(this,"x",void 0),ht(this,"y",void 0),ht(this,"width",void 0),ht(this,"height",void 0),ht(this,"draw",(function(t,e,n){n.imageSmoothingEnabled=!1,n.drawImage(a.resource.data,a.x,a.y,a.width,a.height,t,e,a.width,a.height)})),this.resource=e,this.x=n,this.y=o,this.width=i,this.height=r};function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t){return function(t){if(Array.isArray(t))return wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=mt(t);if(e){var i=mt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return gt(this,n)}}function gt(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?bt(t):e}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(n,t);var e=vt(n);function n(t,i,r,a,c){var f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Tt(bt(f=e.call(this)),"name",void 0),Tt(bt(f),"tileTypeMap",[[]]),Tt(bt(f),"playerPosition",void 0),Tt(bt(f),"boxPositionList",void 0),Tt(bt(f),"destinationPositionList",void 0),Tt(bt(f),"rows",void 0),Tt(bt(f),"columns",void 0),Tt(bt(f),"fontLoader",void 0),Tt(bt(f),"tileMapLoader",void 0),Tt(bt(f),"levelCanvas",void 0),Tt(bt(f),"levelContext",void 0),Tt(bt(f),"player",void 0),Tt(bt(f),"boxList",void 0),Tt(bt(f),"destinationList",void 0),Tt(bt(f),"moves",0),Tt(bt(f),"pushes",0),Tt(bt(f),"time",0),Tt(bt(f),"paused",!1),Tt(bt(f),"won",!1),Tt(bt(f),"levelBuffered",!1),Tt(bt(f),"load",(function(t,e,n,o,i){f.fontLoader=n,f.tileMapLoader=e,f.levelCanvas=document.createElement("canvas"),f.levelCanvas.width=o,f.levelCanvas.height=i;var r=f.levelCanvas.getContext("2d");if(null===r)throw new Error("2D context not supported");f.levelContext=r,f.player=new lt(f.tileMapLoader.get(E)),f.player.setCoordinates(f.playerPosition[0],f.playerPosition[1]),f.boxList=f.boxPositionList.map((function(t){var e=new J(f.tileMapLoader.get(L));return e.setCoordinates(t[0],t[1]),e})),f.destinationList=f.destinationPositionList.map((function(t){var e=new ot(f.tileMapLoader.get(O));return e.setCoordinates(t[0],t[1]),e})),f.moves=0,f.pushes=0,f.time=0,f.paused=!1,f.won=!1,f.levelBuffered=!1})),Tt(bt(f),"control",(function(t){var e,n=!1,o=!1;switch(t){case"KeyW":case"ArrowUp":f.player.actionType!==k.Stand||f.won||f.paused||(o=(e=f.controlDirection(U.Up,0,-1))===k.Push,n=e===k.Walk||e===k.Push);break;case"KeyS":case"ArrowDown":f.player.actionType!==k.Stand||f.won||f.paused||(o=(e=f.controlDirection(U.Down,0,1))===k.Push,n=e===k.Walk||e===k.Push);break;case"KeyA":case"ArrowLeft":f.player.actionType!==k.Stand||f.won||f.paused||(o=(e=f.controlDirection(U.Left,-1,0))===k.Push,n=e===k.Walk||e===k.Push);break;case"KeyD":case"ArrowRight":f.player.actionType!==k.Stand||f.won||f.paused||(o=(e=f.controlDirection(U.Right,1,0))===k.Push,n=e===k.Walk||e===k.Push);break;case"Space":case"Enter":case"Escape":f.won?f.finished=!0:f.paused=!f.paused}n&&f.moves++,o&&f.pushes++})),Tt(bt(f),"update",(function(t){var e,n;f.won||f.paused||(f.time+=t,f.won=f.boxList.map((function(t){e=t.getCoordinates();for(var o=0;o<f.destinationList.length;o++)if(n=f.destinationList[o].getCoordinates(),e[0]===n[0]&&e[1]===n[1])return!0;return!1})).reduce((function(t,e){return t&&e}),!0));f.player.update(t),f.boxList.forEach((function(e){e.update(t)}))})),Tt(bt(f),"draw",(function(t,e){var n=t.height/$t.TILE_HEIGHT,i=t.width/$t.TILE_WIDTH,r=(i-f.columns)/2*$t.TILE_WIDTH,a=(n-f.rows+2)/2*$t.TILE_HEIGHT,c=[].concat(pt(f.destinationList),pt(f.boxList),[f.player]);if(f.levelBuffered||(f.drawLevelToBuffer(n,i,r,a),f.levelBuffered=!0),e.imageSmoothingEnabled=!1,e.drawImage(f.levelCanvas,0,0),$t.RENDER_SHADOWS){var u=f.tileMapLoader.get(P);c.forEach((function(t){u.get(0,0).draw(r+t.x,a+t.y,e)}))}c.forEach((function(t){t.draw(r,a,e)}));var s=f.fontLoader.get("Yoster Island",10,o.Bright);if(s.draw("Moves",10,256,e).draw(String(f.moves),64,256,e).draw("Pushes",10,270,e).draw(String(f.pushes),64,270,e).draw("Time",10,284,e).draw(String(Math.floor(f.time)),64,284,e),f.won){var l=f.fontLoader.get("Yoster Island",14,o.Bright),h=l.calculateSize("You win!");l.draw("You win!",(e.canvas.width-h[0])/2,(e.canvas.height-h[1])/2-10,e);var y="Press space for the next level",d=s.calculateSize(y);s.draw(y,(e.canvas.width-d[0])/2,(e.canvas.height-d[1])/2+10,e)}else if(f.paused){var p=f.fontLoader.get("Yoster Island",14,o.Bright),w=p.calculateSize("Pause!");p.draw("Pause!",(e.canvas.width-w[0])/2,(e.canvas.height-w[1])/2,e)}})),Tt(bt(f),"controlDirection",(function(t,e,n){var o=void 0,i=f.player.getCoordinates(),r=i[0]+e,a=i[1]+n;if(f.isTileTypeAt(r,a,st.Floor)){var c=f.isBoxAt(r,a);if(void 0!==c){var u=r+e,s=a+n;f.isTileTypeAt(u,s,st.Floor)&&void 0===f.isBoxAt(u,s)?(o=k.Push,c.setAction(k.Walk,t)):o=k.Stand}else o=k.Walk}else o=k.Stand;return f.player.setAction(o,t),o})),Tt(bt(f),"drawLevelToBuffer",(function(t,e,n,o){f.levelContext.imageSmoothingEnabled=!1,f.levelContext.fillStyle=$t.BACKGROUND_COLOR,f.levelContext.fillRect(0,0,f.levelContext.canvas.width,f.levelContext.canvas.height);for(var i=f.tileMapLoader.get(C),r=0;r<t;r++)for(var a=0;a<e;a++){var c=i.getRandomTile();c.draw(a*c.width,r*c.height,f.levelContext)}f.tileMapLoader.get(S).get(0,0).draw($t.MOON_OFFSET,$t.MOON_OFFSET,f.levelContext);for(var u,s,l,h=f.tileMapLoader.get(I),y=f.tileMapLoader.get(A),d=f.tileMapLoader.get(j),p=f.tileMapLoader.get(D),w=f.tileMapLoader.get(R),x=function(t){for(var e=function(e){var i,r;switch(s=[],f.tileTypeMap[t][e]){case st.Floor:var a;if(s.push({tile:h.getRandomTile(),offset:{x:0,y:0}}),$t.RENDER_PILLARS)u=f.getPatternAt(e,t,st.Floor),l=u.match(/......0./)?d.getTileListByPattern(u):[],(a=s).push.apply(a,pt(l));break;case st.Void:u=f.getPatternAt(e,t,st.Floor),l="00000000"!==u?p.getTileListByPattern(u):[],(i=s).push.apply(i,pt(l));break;case st.Water:u=f.getPatternAt(e,t,st.Floor),l="00000000"!==u?w.getTileListByPattern(u):[],(r=s).push.apply(r,[{tile:0===l.length?y.getRandomTile():y.get(0,0),offset:{x:0,y:0}}].concat(pt(l)))}s.forEach((function(i){return i.tile.draw(i.offset.x+n+e*$t.TILE_WIDTH,i.offset.y+o+t*$t.TILE_HEIGHT,f.levelContext)}))},i=0;i<f.columns;i++)e(i)},v=0;v<f.rows;v++)x(v)})),Tt(bt(f),"getPatternAt",(function(t,e,n){return[[t-1,e-1],[t,e-1],[t+1,e-1],[t-1,e],[t+1,e],[t-1,e+1],[t,e+1],[t+1,e+1]].map((function(t){return f.isTileTypeAt(t[0],t[1],n)})).reduce((function(t,e){return t.concat(e?"1":"0")}),"")})),Tt(bt(f),"isBoxAt",(function(t,e){for(var n,o=0;o<f.boxList.length;o++)if((n=f.boxList[o].getCoordinates())[0]===t&&n[1]===e)return f.boxList[o]})),Tt(bt(f),"isTileTypeAt",(function(t,e,n){return!(t<0||t>=f.tileTypeMap[0].length||e<0||e>=f.tileTypeMap.length)&&f.tileTypeMap[e][t]===n})),f.name=t,f.tileTypeMap=i,f.playerPosition=r,f.boxPositionList=a,f.destinationPositionList=c,f.rows=i.length,f.columns=i[0].length,f}return n}(M),St=n.p+"2d5731f86cfad6c301e1e7b7e2126612.txt",Ot=[St];n(138),n(109),n(139);function Et(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),It(this,"tileTypeMap",[[]]),It(this,"playerPosition",void 0),It(this,"boxPositionList",[]),It(this,"destinationPositionList",[]),It(this,"parse",(function(t){return new Promise((function(n){n(Et(t.data.matchAll(/[\r\n]*([ #$@*.\r\n]*); *(.+)/g)).map((function(t){return e.tileTypeMap=[[]],e.playerPosition=void 0,e.boxPositionList=[],e.destinationPositionList=[],e.doParse(t[1]),e.fillRows(),e.floodFillFloor(),e.removeWalls(),e.removeEmptyRows(),e.removeEmptyColumns(),e.addBorder(),$t.RENDER_PONDS?(e.floodFillVoid(),e.floodFillPonds()):e.fillVoid(),new Lt(t[2],e.tileTypeMap,e.getPlayerPosition(),e.boxPositionList,e.destinationPositionList)})))}))})),It(this,"doParse",(function(t){var n=0,o=0;if(Et(t).forEach((function(t){switch(t){case"\n":n=0,e.tileTypeMap[++o]=[];break;case"#":e.tileTypeMap[o][n++]=st.Wall;break;case" ":e.tileTypeMap[o][n++]=st.Undefined;break;case"@":if(void 0!==e.playerPosition)throw new Error("Invalid level (multiple player)");console.debug("Player found at [".concat(n,", ").concat(o,"]")),e.playerPosition=[n,o],e.tileTypeMap[o][n++]=st.Undefined;break;case"$":console.debug("Box found at [".concat(n,", ").concat(o,"]")),e.boxPositionList.push([n,o]),e.tileTypeMap[o][n++]=st.Undefined;break;case".":console.debug("Destination found at [".concat(n,", ").concat(o,"]")),e.destinationPositionList.push([n,o]),e.tileTypeMap[o][n++]=st.Undefined;break;case"*":console.debug("Box on destination found at [".concat(n,", ").concat(o,"]")),e.boxPositionList.push([n,o]),e.destinationPositionList.push([n,o]),e.tileTypeMap[o][n++]=st.Undefined}})),void 0===e.playerPosition)throw new Error("Invalid level (no player)");if(0===e.boxPositionList.length)throw new Error("Invalid level (no boxes)");if(0===e.destinationPositionList.length)throw new Error("Invalid level (no destinations)");if(e.boxPositionList.length!==e.destinationPositionList.length)throw new Error("Invalid level (box and destination count is not equal)")})),It(this,"fillRows",(function(){var t=0;e.tileTypeMap.forEach((function(e){e.length>t&&(t=e.length)})),console.debug("Max row length is ".concat(t)),e.tileTypeMap=e.tileTypeMap.map((function(e){var n=t-e.length;if(n>0)for(var o=0;o<n;o++)e.push(st.Undefined);return e}))})),It(this,"floodFillFloor",(function(){e.floodFill(e.getPlayerPosition()[0],e.getPlayerPosition()[1],st.Floor),e.boxPositionList.forEach((function(t){if(e.tileTypeMap[t[1]][t[0]]!==st.Floor)throw new Error("Invalid level (box position not on floor)")})),e.destinationPositionList.forEach((function(t){if(e.tileTypeMap[t[1]][t[0]]!==st.Floor)throw new Error("Invalid level (destination position not on floor)")}))})),It(this,"removeWalls",(function(){e.tileTypeMap.forEach((function(t){t.forEach((function(e,n){e===st.Wall&&(t[n]=st.Undefined)}))}))})),It(this,"removeEmptyRows",(function(){for(var t=(e.tileTypeMap||[]).map((function(t,n){return e.tileTypeMap[n].some((function(t){return t!==st.Void}))})),n=0,o=0;o<t.length&&!(t[o]||0!==o&&t[o-1]);o++)n++;e.updatePositions(0,-n),e.tileTypeMap=e.tileTypeMap.filter((function(e,n){return t[n]}))})),It(this,"removeEmptyColumns",(function(){for(var t=(e.tileTypeMap[0]||[]).map((function(t,n){return e.tileTypeMap.some((function(t){return t[n]!==st.Void}))})),n=0,o=0;o<t.length&&!(t[o]||0!==o&&t[o-1]);o++)n++;e.updatePositions(-n,0),e.tileTypeMap=e.tileTypeMap.map((function(e){return e.filter((function(e,n){return t[n]}))}))})),It(this,"addBorder",(function(){var t=e.createEmptyRow();e.tileTypeMap=[t].concat(Et(e.tileTypeMap),Et($t.RENDER_PILLARS?[t,t,t]:[t])).map((function(t){return[st.Undefined].concat(Et(t),[st.Undefined])})),e.updatePositions(1,1)})),It(this,"floodFillVoid",(function(){e.floodFill(0,0,st.Void)})),It(this,"floodFillPonds",(function(){for(var t=0;t<e.tileTypeMap.length;t++)for(var n=0;n<e.tileTypeMap[0].length;n++)e.tileTypeMap[t][n]===st.Undefined&&(console.debug("Pond found at [".concat(n,", ").concat(t,"]")),e.floodFill(n,t,st.Water))})),It(this,"fillVoid",(function(){for(var t=0;t<e.tileTypeMap.length;t++)for(var n=0;n<e.tileTypeMap[0].length;n++)e.tileTypeMap[t][n]===st.Undefined&&(e.tileTypeMap[t][n]=st.Void)})),It(this,"createEmptyRow",(function(){for(var t=[],n=0;n<e.tileTypeMap[0].length;n++)t.push(st.Void);return t})),It(this,"floodFill",(function(t,n,o){for(var i=e.tileTypeMap[n][t],r=e.tileTypeMap[0].length,a=e.tileTypeMap.length,c=[[t,n]];c.length;){var f=c.pop();if(f){for(var u=f[0],s=f[1];s>=0&&e.tileTypeMap[s][u]===i;)s--;s++;for(var l=!1,h=!1;s<a&&e.tileTypeMap[s][u]===i;)e.tileTypeMap[s][u]=o,u>0&&(e.tileTypeMap[s][u-1]===i?l||(c.push([u-1,s]),l=!0):l&&(l=!1)),u<r-1&&(e.tileTypeMap[s][u+1]===i?h||(c.push([u+1,s]),h=!0):h&&(h=!1)),s++}}})),It(this,"getPlayerPosition",(function(){if(void 0===e.playerPosition)throw new Error("Player position is undefined");return e.playerPosition})),It(this,"updatePositions",(function(t,n){e.getPlayerPosition()[0]+=t,e.getPlayerPosition()[1]+=n,e.boxPositionList.forEach((function(e){e[0]+=t,e[1]+=n})),e.destinationPositionList.forEach((function(e){e[0]+=t,e[1]+=n}))}))};function Dt(t){return function(t){if(Array.isArray(t))return Ct(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var At=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rt(this,"resourceLoader",void 0),Rt(this,"cache",[]),Rt(this,"load",(function(t){return new Promise((function(e){var o=t.length;t.forEach((function(t){console.debug("Loading level ".concat(t,"...")),(new jt).parse(n.resourceLoader.get(t)).then((function(t){var i;(i=n.cache).push.apply(i,Dt(t)),0==--o&&(console.log("Levels finished loading..."),e(n.cache))}))}))}))})),Rt(this,"first",(function(){return n.cache[0]})),Rt(this,"get",(function(t){var e=n.cache.find((function(e){return e.name===t}));if(void 0===e)throw new Error;return e})),Rt(this,"next",(function(t){var e=n.cache.indexOf(t);if(e>=0&&e<n.cache.length)return n.cache[e+1]})),this.resourceLoader=e},Mt=[E,L,O,I,S,j,P,C,D,A,R,i,c,s,y,r,f,l,d,St];function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kt=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_t(this,"src",void 0),_t(this,"data",void 0),this.src=e,this.data=n};function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,"cache",[]),Ft(this,"load",(function(t){return new Promise((function(n){var o=t.length,i=function(){0==--o&&(console.log("Resources finished loading..."),n(e.cache))};t.forEach((function(t){if(t.match(/^.*\.png$/)){var n=new Image;n.addEventListener("load",(function(){e.cache.push(new kt(t,n)),i()}),!1),n.src=t}else fetch(t).then((function(n){n.text().then((function(n){e.cache.push(new kt(t,n)),i()}))}))}))}))})),Ft(this,"get",(function(t){var n=e.cache.find((function(e){return e.src===t}));if(void 0===n)throw new Error("Invalid src.");return n}))},Ht=[{pattern:/.1.1..../,tileOffsetDefinitionList:[{tileIndex:0,offset:{x:0,y:0}}]},{pattern:/.1.0..../,tileOffsetDefinitionList:[{tileIndex:1,offset:{x:0,y:0}}]},{pattern:/.1..0.../,tileOffsetDefinitionList:[{tileIndex:2,offset:{x:8,y:0}}]},{pattern:/.1..1.../,tileOffsetDefinitionList:[{tileIndex:3,offset:{x:8,y:0}}]},{pattern:/.0.1..../,tileOffsetDefinitionList:[{tileIndex:4,offset:{x:0,y:0}}]},{pattern:/....0.01/,tileOffsetDefinitionList:[{tileIndex:5,offset:{x:8,y:8}}]},{pattern:/...0.10./,tileOffsetDefinitionList:[{tileIndex:6,offset:{x:0,y:8}}]},{pattern:/.0..1.../,tileOffsetDefinitionList:[{tileIndex:7,offset:{x:8,y:0}}]},{pattern:/...1..0./,tileOffsetDefinitionList:[{tileIndex:8,offset:{x:0,y:8}}]},{pattern:/.01.0.../,tileOffsetDefinitionList:[{tileIndex:9,offset:{x:8,y:0}}]},{pattern:/10.0..../,tileOffsetDefinitionList:[{tileIndex:10,offset:{x:0,y:0}}]},{pattern:/....1.0./,tileOffsetDefinitionList:[{tileIndex:11,offset:{x:8,y:8}}]},{pattern:/...1..1./,tileOffsetDefinitionList:[{tileIndex:12,offset:{x:0,y:8}}]},{pattern:/...0..1./,tileOffsetDefinitionList:[{tileIndex:13,offset:{x:0,y:8}}]},{pattern:/....0.1./,tileOffsetDefinitionList:[{tileIndex:14,offset:{x:8,y:8}}]},{pattern:/....1.1./,tileOffsetDefinitionList:[{tileIndex:15,offset:{x:8,y:8}}]}],Ut=[{src:E,rows:4,columns:6,offsetRows:0,offsetColumns:0,tileWidth:18,tileHeight:24,grid:1,weightedTileDefinitionList:void 0,patternTileDefinitionList:void 0},{src:L,rows:1,columns:1,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:void 0},{src:O,rows:1,columns:1,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:void 0},{src:I,rows:2,columns:2,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:[{tileIndex:0,probability:2},{tileIndex:1,probability:.4},{tileIndex:2,probability:.1},{tileIndex:3,probability:.1}],patternTileDefinitionList:void 0},{src:S,rows:1,columns:1,offsetRows:0,offsetColumns:0,tileWidth:32,tileHeight:32,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:void 0},{src:P,rows:1,columns:1,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:void 0},{src:j,rows:3,columns:4,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:[{pattern:/...00.0./,tileOffsetDefinitionList:[{tileIndex:0,offset:{x:0,y:16}},{tileIndex:4,offset:{x:0,y:32}},{tileIndex:8,offset:{x:0,y:48}}]},{pattern:/...01.0./,tileOffsetDefinitionList:[{tileIndex:1,offset:{x:0,y:16}},{tileIndex:5,offset:{x:0,y:32}},{tileIndex:9,offset:{x:0,y:48}}]},{pattern:/...11.0./,tileOffsetDefinitionList:[{tileIndex:2,offset:{x:0,y:16}},{tileIndex:6,offset:{x:0,y:32}},{tileIndex:10,offset:{x:0,y:48}}]},{pattern:/...10.0./,tileOffsetDefinitionList:[{tileIndex:3,offset:{x:0,y:16}},{tileIndex:7,offset:{x:0,y:32}},{tileIndex:11,offset:{x:0,y:48}}]}]},{src:C,rows:3,columns:2,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:[{tileIndex:0,probability:2},{tileIndex:1,probability:.1},{tileIndex:2,probability:.1},{tileIndex:3,probability:.1},{tileIndex:4,probability:.1},{tileIndex:5,probability:.1}],patternTileDefinitionList:void 0},{src:D,rows:4,columns:4,offsetRows:0,offsetColumns:0,tileWidth:8,tileHeight:8,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:Ht},{src:A,rows:2,columns:2,offsetRows:0,offsetColumns:0,tileWidth:16,tileHeight:16,grid:0,weightedTileDefinitionList:[{tileIndex:0,probability:2},{tileIndex:1,probability:.1},{tileIndex:2,probability:.1},{tileIndex:3,probability:.1}],patternTileDefinitionList:void 0},{src:R,rows:4,columns:4,offsetRows:0,offsetColumns:0,tileWidth:8,tileHeight:8,grid:0,weightedTileDefinitionList:void 0,patternTileDefinitionList:Ht}];function Nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gt=function(){var t,e,n;function o(t,e,n,i){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Bt(this,"tileTable",void 0),Bt(this,"resource",void 0),Bt(this,"rows",void 0),Bt(this,"columns",void 0),Bt(this,"tileWidth",void 0),Bt(this,"tileHeight",void 0),Bt(this,"patternTileDefinitionList",void 0),Bt(this,"weightedTileDefinitionList",void 0),Bt(this,"get",(function(t,e){if(t<0||t>=r.rows)throw new Error("Invalid row");if(e<0||e>=r.columns)throw new Error("Invalid column");return r.tileTable[t][e]})),Bt(this,"getTileListByPattern",(function(t){if(!r.patternTileDefinitionList)throw new Error("Undefined patternTileDefinitionList");var e=r.patternTileDefinitionList.filter((function(e){return t.match(e.pattern)}));if(0===e.length)throw new Error("Invalid pattern '".concat(t,"'"));var n=[];return e.forEach((function(t){t.tileOffsetDefinitionList.forEach((function(t){n.push({tile:r.get(Math.floor(t.tileIndex/r.columns),t.tileIndex%r.columns),offset:t.offset})}))})),n})),Bt(this,"getRandomTile",(function(){if(!r.weightedTileDefinitionList)throw new Error("Undefined weightedTileDefinitionList");for(var t=0,e=r.weightedTileDefinitionList[0].tileIndex,n=Math.random()*r.weightedTileDefinitionList.reduce((function(t,e){return t+e.probability}),r.weightedTileDefinitionList[0].probability),o=0;o<r.weightedTileDefinitionList.length;o++)if(n<=(t+=r.weightedTileDefinitionList[o].probability)){e=r.weightedTileDefinitionList[o].tileIndex;break}return r.get(Math.floor(e/r.columns),e%r.columns)})),0===t.length)throw new Error("Invalid tile table (no rows)");if(0===t[0].length)throw new Error("Invalid tile table (no columns)");if(void 0===t[0][0])throw new Error("Invalid tile table (no cells)");this.tileTable=t,this.resource=e,this.rows=t.length,this.columns=t[0].length,this.tileWidth=t[0][0].width,this.tileHeight=t[0][0].height,this.patternTileDefinitionList=n,this.weightedTileDefinitionList=i}return t=o,n=[{key:"createTileTable",value:function(t,e,n,o,i,r,a,c){for(var f=[],u=0;u<e;u++){f[u]=[];for(var s=0;s<n;s++)f[u][s]=new yt(t,(s+i)*(r+c),(u+o)*(a+c),r,a)}return f}}],(e=null)&&Nt(t.prototype,e),n&&Nt(t,n),o}();function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yt=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zt(this,"resourceLoader",void 0),zt(this,"cache",[]),zt(this,"load",(function(t){return new Promise((function(e){var o;t.forEach((function(t){o=n.resourceLoader.get(t.src),n.cache.push(new Gt(Gt.createTileTable(o,t.rows,t.columns,t.offsetRows,t.offsetColumns,t.tileWidth,t.tileHeight,t.grid),o,t.patternTileDefinitionList,t.weightedTileDefinitionList))})),e()}))})),zt(this,"get",(function(t){var e=n.cache.find((function(e){return e.resource.src===t}));if(void 0===e)throw new Error("Invalid src.");return e})),this.resourceLoader=e};function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $t=function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:304,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Vt(this,t),Kt(this,"resourceLoader",new Wt),Kt(this,"tileMapLoader",new Yt(this.resourceLoader)),Kt(this,"fontLoader",new T(this.resourceLoader)),Kt(this,"levelLoader",new At(this.resourceLoader)),Kt(this,"bufferCanvas",void 0),Kt(this,"bufferContext",void 0),Kt(this,"outputCanvas",void 0),Kt(this,"outputContext",void 0),Kt(this,"scene",void 0),Kt(this,"lastTime",0),Kt(this,"pressedKeyList",{}),Kt(this,"initialize",(function(){console.log("Initializing game..."),n.resourceLoader.load(Mt).then((function(){Promise.all([n.tileMapLoader.load(Ut),n.fontLoader.load(b),n.levelLoader.load(Ot)]).then((function(){n.load(n.levelLoader.first())}))}))})),Kt(this,"load",(function(t){n.scene=t,n.scene.load(n.resourceLoader,n.tileMapLoader,n.fontLoader,n.bufferCanvas.width,n.bufferCanvas.height),n.lastTime=0,n.pressedKeyList={},console.log("Starting game loop..."),n.lastTime=Date.now(),n.loop()})),Kt(this,"loop",(function(){var t=Date.now(),e=(t-n.lastTime)/1e3;if(n.control(),n.scene.update(e),n.draw(),n.scene.finished&&n.scene instanceof Lt){var o=n.levelLoader.next(n.scene);o&&n.load(o)}n.lastTime=t,window.requestAnimationFrame(n.loop)})),Kt(this,"control",(function(){Object.keys(n.pressedKeyList).forEach((function(t){n.pressedKeyList[t]&&n.scene.control(t)}))})),Kt(this,"draw",(function(){n.scene.draw(n.bufferCanvas,n.bufferContext),n.outputContext.imageSmoothingEnabled=t.SMOOTHING,t.SMOOTHING&&(n.outputContext.imageSmoothingQuality="high"),n.outputContext.drawImage(n.bufferCanvas,0,0,n.bufferCanvas.width,n.bufferCanvas.height,0,0,n.outputCanvas.width,n.outputCanvas.height)})),this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=o,this.bufferCanvas.height=i,this.outputCanvas=e,this.outputCanvas.width=o*r,this.outputCanvas.height=i*r;var a=this.bufferCanvas.getContext("2d");if(null===a)throw new Error("2D context not supported");this.bufferContext=a;var c=this.outputCanvas.getContext("2d");if(null===c)throw new Error("2D context not supported");this.outputContext=c,document.addEventListener("keydown",(function(t){n.pressedKeyList[t.code]=!0})),document.addEventListener("keyup",(function(t){n.pressedKeyList[t.code]=!1}))};Kt($t,"BACKGROUND_COLOR","#252230"),Kt($t,"MOON_OFFSET",32),Kt($t,"RENDER_PONDS",!0),Kt($t,"RENDER_PILLARS",!0),Kt($t,"RENDER_SHADOWS",!0),Kt($t,"SMOOTHING",!1),Kt($t,"TILE_WIDTH",16),Kt($t,"TILE_HEIGHT",16);var Xt=document.getElementById("game");new $t(Xt,400,304,2).initialize()}]);