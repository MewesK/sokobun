/*!
 * SokoBun v0.1.0 (https://github.com/MewesK/sokobun#readme)
 * Copyright 2020 MewesK
 * Licensed under MIT
 */!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=140)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(112))},function(t,e,n){var o=n(0),r=n(56),i=n(14),a=n(57),c=n(61),u=n(87),f=r("wks"),s=o.Symbol,l=u?s:s&&s.withoutSetter||a;t.exports=function(t){return i(f,t)||(c&&i(s,t)?f[t]=s[t]:f[t]=l("Symbol."+t)),f[t]}},function(t,e,n){var o=n(65),r=n(22),i=n(119);o||r(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){var o=n(0),r=n(39).f,i=n(20),a=n(22),c=n(54),u=n(78),f=n(84);t.exports=function(t,e){var n,s,l,h,y,w=t.target,p=t.global,d=t.stat;if(n=p?o:d?o[w]||c(w,{}):(o[w]||{}).prototype)for(s in e){if(h=e[s],l=t.noTargetGet?(y=r(n,s))&&y.value:n[s],!f(p?s:w+(d?".":"#")+s,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;u(h,l)}(t.sham||l&&l.sham)&&i(h,"sham",!0),a(n,s,h,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var o=n(26),r=n(88),i=n(35),a=n(33),c=n(90),u=a.set,f=a.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:o(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var o=n(102).charAt,r=n(33),i=n(90),a=r.set,c=r.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=o(n,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var o=n(0),r=n(103),i=n(5),a=n(20),c=n(1),u=c("iterator"),f=c("toStringTag"),s=i.values;for(var l in r){var h=o[l],y=h&&h.prototype;if(y){if(y[u]!==s)try{a(y,u,s)}catch(t){y[u]=s}if(y[f]||a(y,f,l),r[l])for(var w in i)if(y[w]!==i[w])try{a(y,w,i[w])}catch(t){y[w]=i[w]}}}},function(t,e,n){"use strict";var o=n(3),r=n(0),i=n(28),a=n(34),c=n(19),u=n(61),f=n(87),s=n(4),l=n(14),h=n(45),y=n(12),w=n(13),p=n(24),d=n(26),x=n(41),v=n(32),b=n(47),g=n(62),m=n(58),S=n(130),O=n(83),P=n(39),T=n(17),E=n(75),L=n(20),j=n(22),R=n(56),_=n(42),M=n(43),A=n(57),I=n(1),C=n(104),D=n(105),z=n(48),k=n(33),N=n(30).forEach,F=_("hidden"),U=I("toPrimitive"),B=k.set,W=k.getterFor("Symbol"),G=Object.prototype,K=r.Symbol,V=i("JSON","stringify"),Z=P.f,Y=T.f,$=S.f,H=E.f,J=R("symbols"),q=R("op-symbols"),Q=R("string-to-symbol-registry"),X=R("symbol-to-string-registry"),tt=R("wks"),et=r.QObject,nt=!et||!et.prototype||!et.prototype.findChild,ot=c&&s((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var o=Z(G,e);o&&delete G[e],Y(t,e,n),o&&t!==G&&Y(G,e,o)}:Y,rt=function(t,e){var n=J[t]=b(K.prototype);return B(n,{type:"Symbol",tag:t,description:e}),c||(n.description=e),n},it=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof K},at=function(t,e,n){t===G&&at(q,e,n),w(t);var o=x(e,!0);return w(n),l(J,o)?(n.enumerable?(l(t,F)&&t[F][o]&&(t[F][o]=!1),n=b(n,{enumerable:v(0,!1)})):(l(t,F)||Y(t,F,v(1,{})),t[F][o]=!0),ot(t,o,n)):Y(t,o,n)},ct=function(t,e){w(t);var n=d(e),o=g(n).concat(lt(n));return N(o,(function(e){c&&!ut.call(n,e)||at(t,e,n[e])})),t},ut=function(t){var e=x(t,!0),n=H.call(this,e);return!(this===G&&l(J,e)&&!l(q,e))&&(!(n||!l(this,e)||!l(J,e)||l(this,F)&&this[F][e])||n)},ft=function(t,e){var n=d(t),o=x(e,!0);if(n!==G||!l(J,o)||l(q,o)){var r=Z(n,o);return!r||!l(J,o)||l(n,F)&&n[F][o]||(r.enumerable=!0),r}},st=function(t){var e=$(d(t)),n=[];return N(e,(function(t){l(J,t)||l(M,t)||n.push(t)})),n},lt=function(t){var e=t===G,n=$(e?q:d(t)),o=[];return N(n,(function(t){!l(J,t)||e&&!l(G,t)||o.push(J[t])})),o};(u||(j((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),n=function(t){this===G&&n.call(q,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),ot(this,e,v(1,t))};return c&&nt&&ot(G,e,{configurable:!0,set:n}),rt(e,t)}).prototype,"toString",(function(){return W(this).tag})),j(K,"withoutSetter",(function(t){return rt(A(t),t)})),E.f=ut,T.f=at,P.f=ft,m.f=S.f=st,O.f=lt,C.f=function(t){return rt(I(t),t)},c&&(Y(K.prototype,"description",{configurable:!0,get:function(){return W(this).description}}),a||j(G,"propertyIsEnumerable",ut,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:K}),N(g(tt),(function(t){D(t)})),o({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(Q,e))return Q[e];var n=K(e);return Q[e]=n,X[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(l(X,t))return X[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),o({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?b(t):ct(b(t),e)},defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:ft}),o({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:st,getOwnPropertySymbols:lt}),o({target:"Object",stat:!0,forced:s((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(p(t))}}),V)&&o({target:"JSON",stat:!0,forced:!u||s((function(){var t=K();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))}))},{stringify:function(t,e,n){for(var o,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(o=e,(y(e)||void 0!==t)&&!it(t))return h(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!it(e))return e}),r[1]=e,V.apply(null,r)}});K.prototype[U]||L(K.prototype,U,K.prototype.valueOf),z(K,"Symbol"),M[F]=!0},function(t,e,n){"use strict";var o=n(3),r=n(19),i=n(0),a=n(14),c=n(12),u=n(17).f,f=n(78),s=i.Symbol;if(r&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new s(t):void 0===t?s():s(t);return""===t&&(l[e]=!0),e};f(h,s);var y=h.prototype=s.prototype;y.constructor=h;var w=y.toString,p="Symbol(test)"==String(s("test")),d=/^Symbol\((.*)\)[^)]+$/;u(y,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=w.call(t);if(a(l,t))return"";var n=p?e.slice(7,-1):e.replace(d,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(105)("iterator")},function(t,e,n){"use strict";var o=n(22),r=n(13),i=n(4),a=n(106),c=RegExp.prototype,u=c.toString,f=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),s="toString"!=u.name;(f||s)&&o(RegExp.prototype,"toString",(function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in c)?a.call(t):n)}),{unsafe:!0})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o=n(12);t.exports=function(t){if(!o(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(3),r=n(4),i=n(24),a=n(63),c=n(92);o({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!c},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){var o=n(3),r=n(28),i=n(29),a=n(13),c=n(12),u=n(47),f=n(133),s=n(4),l=r("Reflect","construct"),h=s((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),y=!s((function(){l((function(){}))})),w=h||y;o({target:"Reflect",stat:!0,forced:w,sham:w},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(y&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(f.apply(t,o))}var r=n.prototype,s=u(c(r)?r:Object.prototype),w=Function.apply.call(t,s,e);return c(w)?w:s}})},function(t,e,n){var o=n(19),r=n(76),i=n(13),a=n(41),c=Object.defineProperty;e.f=o?c:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var o=n(3),r=n(85);o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,n){var o=n(4);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var o=n(19),r=n(17),i=n(32);t.exports=o?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(0),r=n(103),i=n(85),a=n(20);for(var c in r){var u=o[c],f=u&&u.prototype;if(f&&f.forEach!==i)try{a(f,"forEach",i)}catch(t){f.forEach=i}}},function(t,e,n){var o=n(0),r=n(20),i=n(14),a=n(54),c=n(55),u=n(33),f=u.get,s=u.enforce,l=String(String).split("String");(t.exports=function(t,e,n,c){var u=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||r(n,"name",e),s(n).source=l.join("string"==typeof e?e:"")),t!==o?(u?!h&&t[e]&&(f=!0):delete t[e],f?t[e]=n:r(t,e,n)):f?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&f(this).source||c(this)}))},function(t,e,n){var o=n(59),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(40);t.exports=function(t){return Object(o(t))}},function(t,e,n){var o=n(19),r=n(4),i=n(14),a=Object.defineProperty,c={},u=function(t){throw t};t.exports=function(t,e){if(i(c,t))return c[t];e||(e={});var n=[][t],f=!!i(e,"ACCESSORS")&&e.ACCESSORS,s=i(e,0)?e[0]:u,l=i(e,1)?e[1]:void 0;return c[t]=!!n&&!r((function(){if(f&&!o)return!0;var t={length:-1};f?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,s,l)}))}},function(t,e,n){var o=n(52),r=n(40);t.exports=function(t){return o(r(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(79),r=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(o[t])||i(r[t]):o[t]&&o[t][e]||r[t]&&r[t][e]}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var o=n(44),r=n(52),i=n(24),a=n(23),c=n(86),u=[].push,f=function(t){var e=1==t,n=2==t,f=3==t,s=4==t,l=6==t,h=5==t||l;return function(y,w,p,d){for(var x,v,b=i(y),g=r(b),m=o(w,p,3),S=a(g.length),O=0,P=d||c,T=e?P(y,S):n?P(y,0):void 0;S>O;O++)if((h||O in g)&&(v=m(x=g[O],O,b),t))if(e)T[O]=v;else if(v)switch(t){case 3:return!0;case 5:return x;case 6:return O;case 2:u.call(T,x)}else if(s)return!1;return l?-1:f||s?s:T}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},function(t,e,n){"use strict";var o,r,i,a,c=n(3),u=n(34),f=n(0),s=n(28),l=n(120),h=n(22),y=n(121),w=n(48),p=n(122),d=n(12),x=n(29),v=n(123),b=n(27),g=n(55),m=n(124),S=n(97),O=n(125),P=n(98).set,T=n(126),E=n(127),L=n(128),j=n(101),R=n(129),_=n(33),M=n(84),A=n(1),I=n(66),C=A("species"),D="Promise",z=_.get,k=_.set,N=_.getterFor(D),F=l,U=f.TypeError,B=f.document,W=f.process,G=s("fetch"),K=j.f,V=K,Z="process"==b(W),Y=!!(B&&B.createEvent&&f.dispatchEvent),$=M(D,(function(){if(!(g(F)!==String(F))){if(66===I)return!0;if(!Z&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(I>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[C]=e,!(t.then((function(){}))instanceof e)})),H=$||!S((function(t){F.all(t).catch((function(){}))})),J=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},q=function(t,e,n){if(!e.notified){e.notified=!0;var o=e.reactions;T((function(){for(var r=e.value,i=1==e.state,a=0;o.length>a;){var c,u,f,s=o[a++],l=i?s.ok:s.fail,h=s.resolve,y=s.reject,w=s.domain;try{l?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?c=r:(w&&w.enter(),c=l(r),w&&(w.exit(),f=!0)),c===s.promise?y(U("Promise-chain cycle")):(u=J(c))?u.call(c,h,y):h(c)):y(r)}catch(t){w&&!f&&w.exit(),y(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&X(t,e)}))}},Q=function(t,e,n){var o,r;Y?((o=B.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),f.dispatchEvent(o)):o={promise:e,reason:n},(r=f["on"+t])?r(o):"unhandledrejection"===t&&L("Unhandled promise rejection",n)},X=function(t,e){P.call(f,(function(){var n,o=e.value;if(tt(e)&&(n=R((function(){Z?W.emit("unhandledRejection",o,t):Q("unhandledrejection",t,o)})),e.rejection=Z||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){P.call(f,(function(){Z?W.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},nt=function(t,e,n,o){return function(r){t(e,n,r,o)}},ot=function(t,e,n,o){e.done||(e.done=!0,o&&(e=o),e.value=n,e.state=2,q(t,e,!0))},rt=function(t,e,n,o){if(!e.done){e.done=!0,o&&(e=o);try{if(t===n)throw U("Promise can't be resolved itself");var r=J(n);r?T((function(){var o={done:!1};try{r.call(n,nt(rt,t,o,e),nt(ot,t,o,e))}catch(n){ot(t,o,n,e)}})):(e.value=n,e.state=1,q(t,e,!1))}catch(n){ot(t,{done:!1},n,e)}}};$&&(F=function(t){v(this,F,D),x(t),o.call(this);var e=z(this);try{t(nt(rt,this,e),nt(ot,this,e))}catch(t){ot(this,e,t)}},(o=function(t){k(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(F.prototype,{then:function(t,e){var n=N(this),o=K(O(this,F));return o.ok="function"!=typeof t||t,o.fail="function"==typeof e&&e,o.domain=Z?W.domain:void 0,n.parent=!0,n.reactions.push(o),0!=n.state&&q(this,n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new o,e=z(t);this.promise=t,this.resolve=nt(rt,t,e),this.reject=nt(ot,t,e)},j.f=K=function(t){return t===F||t===i?new r(t):V(t)},u||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(F,G.apply(f,arguments))}}))),c({global:!0,wrap:!0,forced:$},{Promise:F}),w(F,D,!1,!0),p(D),i=s(D),c({target:D,stat:!0,forced:$},{reject:function(t){var e=K(this);return e.reject.call(void 0,t),e.promise}}),c({target:D,stat:!0,forced:u||$},{resolve:function(t){return E(u&&this===i?F:this,t)}}),c({target:D,stat:!0,forced:H},{all:function(t){var e=this,n=K(e),o=n.resolve,r=n.reject,i=R((function(){var n=x(e.resolve),i=[],a=0,c=1;m(t,(function(t){var u=a++,f=!1;i.push(void 0),c++,n.call(e,t).then((function(t){f||(f=!0,i[u]=t,--c||o(i))}),r)})),--c||o(i)}));return i.error&&r(i.value),n.promise},race:function(t){var e=this,n=K(e),o=n.reject,r=R((function(){var r=x(e.resolve);m(t,(function(t){r.call(e,t).then(n.resolve,o)}))}));return r.error&&o(r.value),n.promise}})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o,r,i,a=n(113),c=n(0),u=n(12),f=n(20),s=n(14),l=n(42),h=n(43),y=c.WeakMap;if(a){var w=new y,p=w.get,d=w.has,x=w.set;o=function(t,e){return x.call(w,t,e),e},r=function(t){return p.call(w,t)||{}},i=function(t){return d.call(w,t)}}else{var v=l("state");h[v]=!0,o=function(t,e){return f(t,v,e),e},r=function(t){return s(t,v)?t[v]:{}},i=function(t){return s(t,v)}}t.exports={set:o,get:r,has:i,enforce:function(t){return i(t)?r(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var o=n(3),r=n(131);o({target:"Array",stat:!0,forced:!n(97)((function(t){Array.from(t)}))},{from:r})},function(t,e,n){"use strict";var o=n(3),r=n(12),i=n(45),a=n(82),c=n(23),u=n(26),f=n(67),s=n(1),l=n(49),h=n(25),y=l("slice"),w=h("slice",{ACCESSORS:!0,0:0,1:2}),p=s("species"),d=[].slice,x=Math.max;o({target:"Array",proto:!0,forced:!y||!w},{slice:function(t,e){var n,o,s,l=u(this),h=c(l.length),y=a(t,h),w=a(void 0===e?h:e,h);if(i(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(l,y,w);for(o=new(void 0===n?Array:n)(x(w-y,0)),s=0;y<w;y++,s++)y in l&&f(o,s,l[y]);return o.length=s,o}})},function(t,e,n){var o=n(19),r=n(17).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;o&&!("name"in i)&&r(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},function(t,e,n){var o=n(19),r=n(75),i=n(32),a=n(26),c=n(41),u=n(14),f=n(76),s=Object.getOwnPropertyDescriptor;e.f=o?s:function(t,e){if(t=a(t),e=c(e,!0),f)try{return s(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var o=n(12);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(56),r=n(57),i=o("keys");t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports={}},function(t,e,n){var o=n(29);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(27);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){"use strict";var o=n(4);t.exports=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var o,r=n(13),i=n(115),a=n(60),c=n(43),u=n(89),f=n(53),s=n(42),l=s("IE_PROTO"),h=function(){},y=function(t){return"<script>"+t+"<\/script>"},w=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;w=o?function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=f("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete w.prototype[a[n]];return w()};c[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=r(t),n=new h,h.prototype=null,n[l]=t):n=w(),void 0===e?n:i(n,e)}},function(t,e,n){var o=n(17).f,r=n(14),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){var o=n(4),r=n(1),i=n(66),a=r("species");t.exports=function(t){return i>=51||!o((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var o=n(3),r=n(30).find,i=n(88),a=n(25),c=!0,u=a("find");"find"in[]&&Array(1).find((function(){c=!1})),o({target:"Array",proto:!0,forced:c||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var o=n(3),r=n(69);o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e,n){var o=n(4),r=n(27),i="".split;t.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var o=n(0),r=n(12),i=o.document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var o=n(0),r=n(20);t.exports=function(t,e){try{r(o,t,e)}catch(n){o[t]=e}return e}},function(t,e,n){var o=n(77),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(t){return r.call(t)}),t.exports=o.inspectSource},function(t,e,n){var o=n(34),r=n(77);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+o).toString(36)}},function(t,e,n){var o=n(80),r=n(60).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var o=n(4);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},function(t,e,n){var o=n(80),r=n(60);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){var o=n(14),r=n(24),i=n(42),a=n(92),c=i("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),o(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var o=n(3),r=n(24),i=n(62);o({target:"Object",stat:!0,forced:n(4)((function(){i(1)}))},{keys:function(t){return i(r(t))}})},function(t,e,n){var o={};o[n(1)("toStringTag")]="z",t.exports="[object z]"===String(o)},function(t,e,n){var o,r,i=n(0),a=n(100),c=i.process,u=c&&c.versions,f=u&&u.v8;f?r=(o=f.split("."))[0]+o[1]:a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(r=o[1]),t.exports=r&&+r},function(t,e,n){"use strict";var o=n(41),r=n(17),i=n(32);t.exports=function(t,e,n){var a=o(e);a in t?r.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){"use strict";var o=n(3),r=n(30).map,i=n(49),a=n(25),c=i("map"),u=a("map");o({target:"Array",proto:!0,forced:!c||!u},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o,r,i=n(106),a=n(134),c=RegExp.prototype.exec,u=String.prototype.replace,f=c,s=(o=/a/,r=/b*/g,c.call(o,"a"),c.call(r,"a"),0!==o.lastIndex||0!==r.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(s||h||l)&&(f=function(t){var e,n,o,r,a=this,f=l&&a.sticky,y=i.call(a),w=a.source,p=0,d=t;return f&&(-1===(y=y.replace("y","")).indexOf("g")&&(y+="g"),d=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(w="(?: "+w+")",d=" "+d,p++),n=new RegExp("^(?:"+w+")",y)),h&&(n=new RegExp("^"+w+"$(?!\\s)",y)),s&&(e=a.lastIndex),o=c.call(f?n:a,d),f?o?(o.input=o.input.slice(p),o[0]=o[0].slice(p),o.index=a.lastIndex,a.lastIndex+=o[0].length):a.lastIndex=0:s&&o&&(a.lastIndex=a.global?o.index+o[0].length:e),h&&o&&o.length>1&&u.call(o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o}),t.exports=f},function(t,e,n){"use strict";var o=n(135),r=n(13),i=n(23),a=n(40),c=n(136),u=n(137);o("match",1,(function(t,e,n){return[function(e){var n=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var a=r(t),f=String(this);if(!a.global)return u(a,f);var s=a.unicode;a.lastIndex=0;for(var l,h=[],y=0;null!==(l=u(a,f));){var w=String(l[0]);h[y]=w,""===w&&(a.lastIndex=c(f,i(a.lastIndex),s)),y++}return 0===y?null:h}]}))},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":8,"height":12,"characterDefinitionList":{"0":{"width":8,"x":28,"y":2,"w":7,"h":7,"ox":1,"oy":7},"1":{"width":8,"x":36,"y":2,"w":4,"h":7,"ox":2,"oy":7},"2":{"width":8,"x":41,"y":2,"w":7,"h":7,"ox":0,"oy":7},"3":{"width":7,"x":49,"y":2,"w":7,"h":7,"ox":0,"oy":7},"4":{"width":7,"x":57,"y":2,"w":5,"h":7,"ox":1,"oy":7},"5":{"width":8,"x":63,"y":2,"w":6,"h":7,"ox":1,"oy":7},"6":{"width":8,"x":70,"y":2,"w":6,"h":7,"ox":1,"oy":7},"7":{"width":8,"x":77,"y":2,"w":6,"h":7,"ox":1,"oy":7},"8":{"width":8,"x":84,"y":2,"w":6,"h":7,"ox":1,"oy":7},"9":{"width":8,"x":91,"y":2,"w":6,"h":7,"ox":1,"oy":7}," ":{"width":4,"x":1,"y":9,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":5,"x":2,"y":2,"w":3,"h":7,"ox":1,"oy":7},"\\"":{"width":8,"x":6,"y":1,"w":6,"h":2,"ox":1,"oy":8},"\'":{"width":4,"x":13,"y":1,"w":2,"h":3,"ox":2,"oy":8},"*":{"width":7,"x":16,"y":2,"w":5,"h":6,"ox":1,"oy":7},",":{"width":4,"x":22,"y":8,"w":2,"h":3,"ox":1,"oy":1},".":{"width":4,"x":25,"y":8,"w":2,"h":1,"ox":1,"oy":1},":":{"width":5,"x":98,"y":2,"w":2,"h":5,"ox":2,"oy":5},";":{"width":5,"x":101,"y":2,"w":2,"h":7,"ox":2,"oy":5},"?":{"width":7,"x":104,"y":2,"w":5,"h":7,"ox":1,"oy":7},"A":{"width":8,"x":110,"y":2,"w":6,"h":7,"ox":1,"oy":7},"B":{"width":8,"x":117,"y":2,"w":6,"h":7,"ox":1,"oy":7},"C":{"width":8,"x":1,"y":12,"w":6,"h":7,"ox":1,"oy":7},"D":{"width":8,"x":8,"y":12,"w":6,"h":7,"ox":1,"oy":7},"E":{"width":7,"x":15,"y":12,"w":6,"h":7,"ox":1,"oy":7},"F":{"width":7,"x":22,"y":12,"w":6,"h":7,"ox":1,"oy":7},"G":{"width":8,"x":29,"y":12,"w":6,"h":7,"ox":1,"oy":7},"H":{"width":8,"x":36,"y":12,"w":6,"h":7,"ox":1,"oy":7},"I":{"width":5,"x":43,"y":12,"w":4,"h":7,"ox":1,"oy":7},"J":{"width":8,"x":48,"y":12,"w":7,"h":7,"ox":0,"oy":7},"K":{"width":7,"x":56,"y":12,"w":7,"h":7,"ox":1,"oy":7},"L":{"width":7,"x":64,"y":12,"w":6,"h":7,"ox":1,"oy":7},"M":{"width":8,"x":71,"y":12,"w":6,"h":7,"ox":1,"oy":7},"N":{"width":8,"x":78,"y":12,"w":7,"h":7,"ox":0,"oy":7},"O":{"width":8,"x":86,"y":12,"w":6,"h":7,"ox":1,"oy":7},"P":{"width":8,"x":93,"y":12,"w":6,"h":7,"ox":1,"oy":7},"Q":{"width":8,"x":100,"y":12,"w":6,"h":8,"ox":1,"oy":7},"R":{"width":8,"x":107,"y":12,"w":6,"h":7,"ox":1,"oy":7},"S":{"width":8,"x":114,"y":12,"w":7,"h":7,"ox":0,"oy":7},"T":{"width":7,"x":1,"y":22,"w":7,"h":7,"ox":1,"oy":7},"U":{"width":8,"x":9,"y":22,"w":6,"h":7,"ox":1,"oy":7},"V":{"width":8,"x":16,"y":22,"w":6,"h":7,"ox":1,"oy":7},"W":{"width":8,"x":23,"y":22,"w":6,"h":7,"ox":1,"oy":7},"X":{"width":8,"x":30,"y":22,"w":6,"h":7,"ox":1,"oy":7},"Y":{"width":8,"x":37,"y":22,"w":7,"h":7,"ox":1,"oy":7},"Z":{"width":8,"x":45,"y":22,"w":6,"h":7,"ox":1,"oy":7},"a":{"width":7,"x":52,"y":24,"w":7,"h":5,"ox":1,"oy":5},"b":{"width":8,"x":60,"y":21,"w":6,"h":8,"ox":1,"oy":8},"c":{"width":7,"x":67,"y":24,"w":7,"h":5,"ox":1,"oy":5},"d":{"width":8,"x":75,"y":21,"w":6,"h":8,"ox":1,"oy":8},"e":{"width":7,"x":82,"y":24,"w":6,"h":5,"ox":1,"oy":5},"f":{"width":7,"x":89,"y":21,"w":6,"h":8,"ox":1,"oy":8},"g":{"width":8,"x":96,"y":23,"w":6,"h":8,"ox":1,"oy":6},"h":{"width":8,"x":103,"y":21,"w":6,"h":8,"ox":1,"oy":8},"i":{"width":4,"x":110,"y":22,"w":3,"h":7,"ox":1,"oy":7},"j":{"width":7,"x":114,"y":22,"w":5,"h":9,"ox":1,"oy":7},"k":{"width":8,"x":1,"y":32,"w":7,"h":8,"ox":1,"oy":8},"l":{"width":4,"x":9,"y":32,"w":3,"h":8,"ox":1,"oy":8},"m":{"width":8,"x":13,"y":34,"w":7,"h":6,"ox":0,"oy":6},"n":{"width":8,"x":21,"y":35,"w":7,"h":5,"ox":1,"oy":5},"o":{"width":8,"x":29,"y":35,"w":6,"h":5,"ox":1,"oy":5},"p":{"width":8,"x":36,"y":35,"w":6,"h":7,"ox":1,"oy":5},"q":{"width":8,"x":43,"y":35,"w":6,"h":7,"ox":1,"oy":5},"r":{"width":7,"x":50,"y":35,"w":6,"h":5,"ox":1,"oy":5},"s":{"width":8,"x":57,"y":34,"w":6,"h":6,"ox":1,"oy":6},"t":{"width":7,"x":64,"y":33,"w":6,"h":7,"ox":1,"oy":7},"u":{"width":8,"x":71,"y":35,"w":6,"h":5,"ox":1,"oy":5},"v":{"width":8,"x":78,"y":34,"w":6,"h":6,"ox":1,"oy":6},"w":{"width":8,"x":85,"y":35,"w":6,"h":5,"ox":1,"oy":5},"x":{"width":8,"x":92,"y":35,"w":7,"h":5,"ox":1,"oy":5},"y":{"width":8,"x":100,"y":35,"w":7,"h":7,"ox":0,"oy":5},"z":{"width":7,"x":108,"y":35,"w":8,"h":6,"ox":0,"oy":5},"~":{"width":7,"x":117,"y":36,"w":8,"h":3,"ox":0,"oy":4}}}')},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":10,"height":14,"characterDefinitionList":{"0":{"width":9,"x":27,"y":3,"w":9,"h":9,"ox":0,"oy":9},"1":{"width":8,"x":37,"y":3,"w":4,"h":9,"ox":2,"oy":9},"2":{"width":9,"x":42,"y":3,"w":7,"h":9,"ox":1,"oy":9},"3":{"width":10,"x":50,"y":3,"w":8,"h":9,"ox":1,"oy":9},"4":{"width":9,"x":59,"y":3,"w":7,"h":9,"ox":1,"oy":9},"5":{"width":10,"x":67,"y":3,"w":8,"h":9,"ox":1,"oy":9},"6":{"width":10,"x":76,"y":3,"w":8,"h":9,"ox":1,"oy":9},"7":{"width":10,"x":85,"y":3,"w":8,"h":9,"ox":1,"oy":9},"8":{"width":10,"x":94,"y":3,"w":9,"h":9,"ox":1,"oy":9},"9":{"width":10,"x":104,"y":3,"w":8,"h":9,"ox":1,"oy":9}," ":{"width":4,"x":1,"y":12,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":5,"x":2,"y":3,"w":3,"h":9,"ox":1,"oy":9},"\\"":{"width":8,"x":6,"y":1,"w":5,"h":4,"ox":1,"oy":11},"\'":{"width":4,"x":12,"y":1,"w":2,"h":4,"ox":2,"oy":11},"*":{"width":8,"x":15,"y":4,"w":5,"h":6,"ox":1,"oy":8},",":{"width":4,"x":21,"y":10,"w":2,"h":4,"ox":1,"oy":2},".":{"width":4,"x":24,"y":11,"w":2,"h":2,"ox":1,"oy":1},":":{"width":5,"x":113,"y":3,"w":2,"h":8,"ox":2,"oy":8},";":{"width":5,"x":116,"y":3,"w":2,"h":9,"ox":2,"oy":8},"?":{"width":8,"x":119,"y":3,"w":7,"h":10,"ox":1,"oy":9},"A":{"width":10,"x":1,"y":15,"w":8,"h":9,"ox":1,"oy":9},"B":{"width":11,"x":10,"y":15,"w":9,"h":9,"ox":1,"oy":9},"C":{"width":10,"x":20,"y":15,"w":8,"h":9,"ox":1,"oy":9},"D":{"width":10,"x":29,"y":15,"w":8,"h":9,"ox":1,"oy":9},"E":{"width":8,"x":38,"y":15,"w":7,"h":9,"ox":1,"oy":9},"F":{"width":8,"x":46,"y":15,"w":7,"h":9,"ox":1,"oy":9},"G":{"width":10,"x":54,"y":15,"w":8,"h":9,"ox":1,"oy":9},"H":{"width":10,"x":63,"y":15,"w":8,"h":9,"ox":1,"oy":9},"I":{"width":6,"x":72,"y":15,"w":4,"h":9,"ox":1,"oy":9},"J":{"width":10,"x":77,"y":15,"w":9,"h":9,"ox":0,"oy":9},"K":{"width":10,"x":87,"y":15,"w":8,"h":9,"ox":1,"oy":9},"L":{"width":7,"x":96,"y":15,"w":7,"h":9,"ox":1,"oy":9},"M":{"width":10,"x":104,"y":15,"w":8,"h":9,"ox":1,"oy":9},"N":{"width":10,"x":113,"y":15,"w":8,"h":9,"ox":1,"oy":9},"O":{"width":10,"x":1,"y":25,"w":8,"h":9,"ox":1,"oy":9},"P":{"width":10,"x":10,"y":25,"w":8,"h":9,"ox":1,"oy":9},"Q":{"width":10,"x":19,"y":25,"w":8,"h":10,"ox":1,"oy":9},"R":{"width":10,"x":28,"y":25,"w":8,"h":9,"ox":1,"oy":9},"S":{"width":10,"x":37,"y":25,"w":8,"h":9,"ox":1,"oy":9},"T":{"width":10,"x":46,"y":25,"w":8,"h":9,"ox":1,"oy":9},"U":{"width":10,"x":55,"y":25,"w":9,"h":9,"ox":1,"oy":9},"V":{"width":10,"x":65,"y":25,"w":9,"h":9,"ox":0,"oy":9},"W":{"width":10,"x":75,"y":25,"w":9,"h":9,"ox":1,"oy":9},"X":{"width":10,"x":85,"y":25,"w":8,"h":9,"ox":1,"oy":9},"Y":{"width":10,"x":94,"y":25,"w":8,"h":9,"ox":1,"oy":9},"Z":{"width":10,"x":103,"y":25,"w":8,"h":9,"ox":1,"oy":9},"a":{"width":10,"x":112,"y":27,"w":8,"h":7,"ox":1,"oy":7},"b":{"width":10,"x":1,"y":36,"w":8,"h":11,"ox":1,"oy":11},"c":{"width":10,"x":10,"y":40,"w":8,"h":7,"ox":1,"oy":7},"d":{"width":10,"x":19,"y":36,"w":8,"h":11,"ox":1,"oy":11},"e":{"width":8,"x":28,"y":40,"w":7,"h":7,"ox":1,"oy":7},"f":{"width":8,"x":36,"y":36,"w":7,"h":11,"ox":1,"oy":11},"g":{"width":10,"x":44,"y":38,"w":8,"h":11,"ox":1,"oy":9},"h":{"width":10,"x":53,"y":36,"w":8,"h":11,"ox":1,"oy":11},"i":{"width":4,"x":62,"y":38,"w":3,"h":9,"ox":1,"oy":9},"j":{"width":8,"x":66,"y":38,"w":7,"h":11,"ox":1,"oy":9},"k":{"width":10,"x":74,"y":36,"w":8,"h":11,"ox":1,"oy":11},"l":{"width":4,"x":83,"y":36,"w":3,"h":11,"ox":1,"oy":11},"m":{"width":10,"x":87,"y":38,"w":8,"h":9,"ox":1,"oy":9},"n":{"width":10,"x":96,"y":40,"w":8,"h":7,"ox":1,"oy":7},"o":{"width":10,"x":105,"y":40,"w":8,"h":7,"ox":1,"oy":7},"p":{"width":10,"x":114,"y":40,"w":8,"h":9,"ox":1,"oy":7},"q":{"width":10,"x":1,"y":52,"w":8,"h":9,"ox":1,"oy":7},"r":{"width":8,"x":10,"y":52,"w":7,"h":7,"ox":1,"oy":7},"s":{"width":8,"x":18,"y":51,"w":7,"h":8,"ox":1,"oy":8},"t":{"width":8,"x":26,"y":50,"w":7,"h":9,"ox":1,"oy":9},"u":{"width":10,"x":34,"y":52,"w":8,"h":7,"ox":1,"oy":7},"v":{"width":8,"x":43,"y":51,"w":7,"h":8,"ox":1,"oy":8},"w":{"width":10,"x":51,"y":52,"w":8,"h":7,"ox":1,"oy":7},"x":{"width":10,"x":60,"y":51,"w":8,"h":8,"ox":1,"oy":8},"y":{"width":10,"x":69,"y":51,"w":9,"h":10,"ox":0,"oy":8},"z":{"width":10,"x":79,"y":52,"w":8,"h":8,"ox":1,"oy":7},"~":{"width":10,"x":88,"y":55,"w":8,"h":3,"ox":1,"oy":4}}}')},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":12,"height":17,"characterDefinitionList":{"0":{"width":12,"x":31,"y":3,"w":10,"h":11,"ox":1,"oy":11},"1":{"width":11,"x":42,"y":3,"w":5,"h":11,"ox":3,"oy":11},"2":{"width":12,"x":48,"y":3,"w":10,"h":11,"ox":1,"oy":11},"3":{"width":11,"x":59,"y":3,"w":9,"h":11,"ox":1,"oy":11},"4":{"width":10,"x":69,"y":3,"w":8,"h":11,"ox":1,"oy":11},"5":{"width":11,"x":78,"y":3,"w":9,"h":11,"ox":1,"oy":11},"6":{"width":11,"x":88,"y":3,"w":9,"h":11,"ox":1,"oy":11},"7":{"width":11,"x":98,"y":3,"w":9,"h":11,"ox":1,"oy":11},"8":{"width":11,"x":108,"y":3,"w":10,"h":11,"ox":1,"oy":11},"9":{"width":11,"x":1,"y":18,"w":9,"h":11,"ox":1,"oy":11}," ":{"width":5,"x":1,"y":14,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":6,"x":2,"y":3,"w":4,"h":12,"ox":1,"oy":11},"\\"":{"width":10,"x":7,"y":2,"w":6,"h":5,"ox":1,"oy":12},"\'":{"width":5,"x":14,"y":1,"w":2,"h":5,"ox":3,"oy":13},"*":{"width":10,"x":17,"y":4,"w":6,"h":8,"ox":1,"oy":10},",":{"width":4,"x":24,"y":12,"w":2,"h":5,"ox":1,"oy":2},".":{"width":5,"x":27,"y":13,"w":3,"h":2,"ox":1,"oy":1},":":{"width":7,"x":11,"y":18,"w":3,"h":8,"ox":3,"oy":11},";":{"width":6,"x":15,"y":18,"w":2,"h":11,"ox":3,"oy":11},"?":{"width":10,"x":18,"y":18,"w":8,"h":11,"ox":1,"oy":11},"A":{"width":11,"x":27,"y":18,"w":9,"h":11,"ox":1,"oy":11},"B":{"width":11,"x":37,"y":18,"w":9,"h":11,"ox":1,"oy":11},"C":{"width":11,"x":47,"y":18,"w":9,"h":11,"ox":1,"oy":11},"D":{"width":11,"x":57,"y":18,"w":9,"h":11,"ox":1,"oy":11},"E":{"width":10,"x":67,"y":18,"w":8,"h":11,"ox":1,"oy":11},"F":{"width":10,"x":76,"y":18,"w":8,"h":11,"ox":1,"oy":11},"G":{"width":11,"x":85,"y":18,"w":9,"h":11,"ox":1,"oy":11},"H":{"width":11,"x":95,"y":18,"w":9,"h":11,"ox":1,"oy":11},"I":{"width":7,"x":105,"y":18,"w":5,"h":11,"ox":1,"oy":11},"J":{"width":12,"x":111,"y":18,"w":10,"h":11,"ox":1,"oy":11},"K":{"width":12,"x":1,"y":30,"w":10,"h":11,"ox":1,"oy":11},"L":{"width":9,"x":12,"y":30,"w":9,"h":11,"ox":1,"oy":11},"M":{"width":11,"x":22,"y":30,"w":9,"h":11,"ox":1,"oy":11},"N":{"width":11,"x":32,"y":30,"w":9,"h":11,"ox":1,"oy":11},"O":{"width":11,"x":42,"y":30,"w":9,"h":11,"ox":1,"oy":11},"P":{"width":11,"x":52,"y":30,"w":9,"h":11,"ox":1,"oy":11},"Q":{"width":11,"x":62,"y":30,"w":9,"h":12,"ox":1,"oy":11},"R":{"width":11,"x":72,"y":30,"w":9,"h":11,"ox":1,"oy":11},"S":{"width":11,"x":82,"y":30,"w":9,"h":11,"ox":1,"oy":11},"T":{"width":11,"x":92,"y":30,"w":9,"h":11,"ox":1,"oy":11},"U":{"width":11,"x":102,"y":30,"w":10,"h":11,"ox":1,"oy":11},"V":{"width":12,"x":113,"y":30,"w":10,"h":11,"ox":1,"oy":11},"W":{"width":11,"x":1,"y":44,"w":10,"h":11,"ox":1,"oy":11},"X":{"width":11,"x":12,"y":44,"w":9,"h":11,"ox":1,"oy":11},"Y":{"width":11,"x":22,"y":44,"w":9,"h":11,"ox":1,"oy":11},"Z":{"width":11,"x":32,"y":44,"w":9,"h":11,"ox":1,"oy":11},"a":{"width":11,"x":42,"y":47,"w":9,"h":8,"ox":1,"oy":8},"b":{"width":11,"x":52,"y":43,"w":9,"h":12,"ox":1,"oy":12},"c":{"width":11,"x":62,"y":47,"w":9,"h":8,"ox":1,"oy":8},"d":{"width":11,"x":72,"y":43,"w":9,"h":12,"ox":1,"oy":12},"e":{"width":10,"x":82,"y":47,"w":8,"h":8,"ox":1,"oy":8},"f":{"width":10,"x":91,"y":43,"w":8,"h":12,"ox":1,"oy":12},"g":{"width":11,"x":100,"y":46,"w":9,"h":12,"ox":1,"oy":9},"h":{"width":11,"x":110,"y":43,"w":9,"h":12,"ox":1,"oy":12},"i":{"width":5,"x":120,"y":44,"w":4,"h":11,"ox":1,"oy":11},"j":{"width":10,"x":1,"y":60,"w":8,"h":14,"ox":1,"oy":11},"k":{"width":11,"x":10,"y":59,"w":9,"h":12,"ox":1,"oy":12},"l":{"width":5,"x":20,"y":59,"w":4,"h":12,"ox":1,"oy":12},"m":{"width":11,"x":25,"y":61,"w":9,"h":10,"ox":1,"oy":10},"n":{"width":11,"x":35,"y":63,"w":9,"h":8,"ox":1,"oy":8},"o":{"width":11,"x":45,"y":63,"w":9,"h":8,"ox":1,"oy":8},"p":{"width":11,"x":55,"y":63,"w":9,"h":11,"ox":1,"oy":8},"q":{"width":11,"x":65,"y":63,"w":9,"h":11,"ox":1,"oy":8},"r":{"width":10,"x":75,"y":63,"w":8,"h":8,"ox":1,"oy":8},"s":{"width":10,"x":84,"y":62,"w":8,"h":9,"ox":1,"oy":9},"t":{"width":10,"x":93,"y":60,"w":8,"h":11,"ox":1,"oy":11},"u":{"width":11,"x":102,"y":63,"w":9,"h":8,"ox":1,"oy":8},"v":{"width":11,"x":112,"y":62,"w":9,"h":9,"ox":1,"oy":9},"w":{"width":11,"x":1,"y":76,"w":9,"h":8,"ox":1,"oy":8},"x":{"width":11,"x":11,"y":75,"w":9,"h":9,"ox":1,"oy":9},"y":{"width":12,"x":21,"y":75,"w":11,"h":12,"ox":0,"oy":9},"z":{"width":11,"x":33,"y":76,"w":9,"h":9,"ox":1,"oy":8},"~":{"width":11,"x":43,"y":78,"w":9,"h":4,"ox":1,"oy":6}}}')},function(t){t.exports=JSON.parse('{"family":"Yoster Island","size":14,"height":20,"characterDefinitionList":{"0":{"width":13,"x":38,"y":4,"w":12,"h":12,"ox":1,"oy":12},"1":{"width":12,"x":51,"y":4,"w":6,"h":12,"ox":3,"oy":12},"2":{"width":13,"x":58,"y":4,"w":10,"h":12,"ox":2,"oy":12},"3":{"width":14,"x":69,"y":4,"w":11,"h":12,"ox":2,"oy":12},"4":{"width":13,"x":81,"y":4,"w":9,"h":12,"ox":2,"oy":12},"5":{"width":14,"x":91,"y":4,"w":11,"h":12,"ox":2,"oy":12},"6":{"width":14,"x":103,"y":4,"w":11,"h":12,"ox":2,"oy":12},"7":{"width":14,"x":115,"y":4,"w":11,"h":12,"ox":2,"oy":12},"8":{"width":14,"x":1,"y":20,"w":11,"h":12,"ox":2,"oy":12},"9":{"width":14,"x":13,"y":20,"w":11,"h":12,"ox":2,"oy":12}," ":{"width":6,"x":1,"y":16,"w":0,"h":0,"ox":0,"oy":0},"!":{"width":9,"x":2,"y":4,"w":5,"h":13,"ox":2,"oy":12},"\\"":{"width":13,"x":8,"y":2,"w":8,"h":5,"ox":2,"oy":14},"\'":{"width":6,"x":17,"y":1,"w":3,"h":6,"ox":3,"oy":15},"*":{"width":13,"x":21,"y":6,"w":8,"h":8,"ox":2,"oy":10},",":{"width":7,"x":30,"y":13,"w":3,"h":6,"ox":2,"oy":3},".":{"width":7,"x":34,"y":14,"w":3,"h":3,"ox":2,"oy":2},":":{"width":8,"x":25,"y":20,"w":3,"h":10,"ox":3,"oy":12},";":{"width":8,"x":29,"y":20,"w":3,"h":12,"ox":3,"oy":12},"?":{"width":12,"x":33,"y":20,"w":9,"h":13,"ox":2,"oy":12},"A":{"width":14,"x":43,"y":20,"w":11,"h":12,"ox":2,"oy":12},"B":{"width":13,"x":55,"y":20,"w":10,"h":12,"ox":2,"oy":12},"C":{"width":14,"x":66,"y":20,"w":11,"h":12,"ox":2,"oy":12},"D":{"width":14,"x":78,"y":20,"w":11,"h":12,"ox":2,"oy":12},"E":{"width":12,"x":90,"y":20,"w":9,"h":12,"ox":2,"oy":12},"F":{"width":12,"x":100,"y":20,"w":9,"h":12,"ox":2,"oy":12},"G":{"width":14,"x":110,"y":20,"w":11,"h":12,"ox":2,"oy":12},"H":{"width":14,"x":1,"y":34,"w":11,"h":12,"ox":2,"oy":12},"I":{"width":9,"x":13,"y":34,"w":6,"h":12,"ox":2,"oy":12},"J":{"width":13,"x":20,"y":34,"w":11,"h":12,"ox":1,"oy":12},"K":{"width":14,"x":32,"y":34,"w":11,"h":12,"ox":2,"oy":12},"L":{"width":11,"x":44,"y":34,"w":10,"h":12,"ox":2,"oy":12},"M":{"width":14,"x":55,"y":34,"w":11,"h":12,"ox":2,"oy":12},"N":{"width":14,"x":67,"y":34,"w":11,"h":12,"ox":2,"oy":12},"O":{"width":14,"x":79,"y":34,"w":11,"h":12,"ox":2,"oy":12},"P":{"width":14,"x":91,"y":34,"w":11,"h":12,"ox":2,"oy":12},"Q":{"width":14,"x":103,"y":34,"w":11,"h":13,"ox":2,"oy":12},"R":{"width":14,"x":115,"y":34,"w":11,"h":12,"ox":2,"oy":12},"S":{"width":14,"x":1,"y":50,"w":11,"h":12,"ox":2,"oy":12},"T":{"width":14,"x":13,"y":50,"w":11,"h":12,"ox":2,"oy":12},"U":{"width":14,"x":25,"y":50,"w":11,"h":12,"ox":2,"oy":12},"V":{"width":13,"x":37,"y":50,"w":11,"h":12,"ox":1,"oy":12},"W":{"width":14,"x":49,"y":50,"w":11,"h":12,"ox":2,"oy":12},"X":{"width":14,"x":61,"y":50,"w":11,"h":12,"ox":2,"oy":12},"Y":{"width":14,"x":73,"y":50,"w":11,"h":12,"ox":2,"oy":12},"Z":{"width":14,"x":85,"y":50,"w":11,"h":12,"ox":2,"oy":12},"a":{"width":14,"x":97,"y":53,"w":11,"h":9,"ox":2,"oy":9},"b":{"width":14,"x":109,"y":48,"w":11,"h":14,"ox":2,"oy":14},"c":{"width":14,"x":1,"y":68,"w":11,"h":9,"ox":2,"oy":9},"d":{"width":14,"x":13,"y":63,"w":11,"h":14,"ox":2,"oy":14},"e":{"width":12,"x":25,"y":68,"w":9,"h":9,"ox":2,"oy":9},"f":{"width":12,"x":35,"y":63,"w":9,"h":14,"ox":2,"oy":14},"g":{"width":14,"x":45,"y":66,"w":11,"h":14,"ox":2,"oy":11},"h":{"width":14,"x":57,"y":63,"w":11,"h":14,"ox":2,"oy":14},"i":{"width":7,"x":69,"y":65,"w":5,"h":12,"ox":2,"oy":12},"j":{"width":12,"x":75,"y":65,"w":9,"h":15,"ox":2,"oy":12},"k":{"width":14,"x":85,"y":63,"w":11,"h":14,"ox":2,"oy":14},"l":{"width":7,"x":97,"y":63,"w":5,"h":14,"ox":2,"oy":14},"m":{"width":14,"x":103,"y":66,"w":11,"h":11,"ox":2,"oy":11},"n":{"width":14,"x":115,"y":68,"w":11,"h":9,"ox":2,"oy":9},"o":{"width":14,"x":1,"y":84,"w":11,"h":9,"ox":2,"oy":9},"p":{"width":14,"x":13,"y":84,"w":11,"h":12,"ox":2,"oy":9},"q":{"width":14,"x":25,"y":84,"w":11,"h":12,"ox":2,"oy":9},"r":{"width":12,"x":37,"y":84,"w":9,"h":9,"ox":2,"oy":9},"s":{"width":12,"x":47,"y":83,"w":9,"h":10,"ox":2,"oy":10},"t":{"width":12,"x":57,"y":81,"w":9,"h":12,"ox":2,"oy":12},"u":{"width":14,"x":67,"y":84,"w":11,"h":9,"ox":2,"oy":9},"v":{"width":14,"x":79,"y":82,"w":11,"h":11,"ox":2,"oy":11},"w":{"width":14,"x":91,"y":84,"w":11,"h":9,"ox":2,"oy":9},"x":{"width":14,"x":103,"y":82,"w":11,"h":11,"ox":2,"oy":11},"y":{"width":13,"x":1,"y":97,"w":12,"h":13,"ox":0,"oy":10},"z":{"width":14,"x":14,"y":98,"w":11,"h":10,"ox":2,"oy":9},"~":{"width":14,"x":26,"y":101,"w":11,"h":4,"ox":2,"oy":6}}}')},function(t,e,n){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:o},function(t,e,n){var o=n(19),r=n(4),i=n(53);t.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var o=n(0),r=n(54),i=o["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=i},function(t,e,n){var o=n(14),r=n(114),i=n(39),a=n(17);t.exports=function(t,e){for(var n=r(e),c=a.f,u=i.f,f=0;f<n.length;f++){var s=n[f];o(t,s)||c(t,s,u(e,s))}}},function(t,e,n){var o=n(0);t.exports=o},function(t,e,n){var o=n(14),r=n(26),i=n(81).indexOf,a=n(43);t.exports=function(t,e){var n,c=r(t),u=0,f=[];for(n in c)!o(a,n)&&o(c,n)&&f.push(n);for(;e.length>u;)o(c,n=e[u++])&&(~i(f,n)||f.push(n));return f}},function(t,e,n){var o=n(26),r=n(23),i=n(82),a=function(t){return function(e,n,a){var c,u=o(e),f=r(u.length),s=i(a,f);if(t&&n!=n){for(;f>s;)if((c=u[s++])!=c)return!0}else for(;f>s;s++)if((t||s in u)&&u[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var o=n(59),r=Math.max,i=Math.min;t.exports=function(t,e){var n=o(t);return n<0?r(n+e,0):i(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(4),r=/#|\.prototype\./,i=function(t,e){var n=c[a(t)];return n==f||n!=u&&("function"==typeof e?o(e):!!e)},a=i.normalize=function(t){return String(t).replace(r,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",f=i.POLYFILL="P";t.exports=i},function(t,e,n){"use strict";var o=n(30).forEach,r=n(46),i=n(25),a=r("forEach"),c=i("forEach");t.exports=a&&c?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var o=n(12),r=n(45),i=n(1)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?o(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var o=n(61);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var o=n(1),r=n(47),i=n(17),a=o("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:r(null)}),t.exports=function(t){c[a][t]=!0}},function(t,e,n){var o=n(28);t.exports=o("document","documentElement")},function(t,e,n){"use strict";var o=n(3),r=n(116),i=n(63),a=n(117),c=n(48),u=n(20),f=n(22),s=n(1),l=n(34),h=n(35),y=n(91),w=y.IteratorPrototype,p=y.BUGGY_SAFARI_ITERATORS,d=s("iterator"),x=function(){return this};t.exports=function(t,e,n,s,y,v,b){r(n,e,s);var g,m,S,O=function(t){if(t===y&&j)return j;if(!p&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},P=e+" Iterator",T=!1,E=t.prototype,L=E[d]||E["@@iterator"]||y&&E[y],j=!p&&L||O(y),R="Array"==e&&E.entries||L;if(R&&(g=i(R.call(new t)),w!==Object.prototype&&g.next&&(l||i(g)===w||(a?a(g,w):"function"!=typeof g[d]&&u(g,d,x)),c(g,P,!0,!0),l&&(h[P]=x))),"values"==y&&L&&"values"!==L.name&&(T=!0,j=function(){return L.call(this)}),l&&!b||E[d]===j||u(E,d,j),h[e]=j,y)if(m={values:O("values"),keys:v?j:O("keys"),entries:O("entries")},b)for(S in m)(p||T||!(S in E))&&f(E,S,m[S]);else o({target:e,proto:!0,forced:p||T},m);return m}},function(t,e,n){"use strict";var o,r,i,a=n(63),c=n(20),u=n(14),f=n(1),s=n(34),l=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(r=a(a(i)))!==Object.prototype&&(o=r):h=!0),null==o&&(o={}),s||u(o,l)||c(o,l,(function(){return this})),t.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var o=n(4);t.exports=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var o=n(65),r=n(27),i=n(1)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=o?r:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){var o=n(1),r=n(35),i=o("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},function(t,e,n){var o=n(93),r=n(35),i=n(1)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||r[o(t)]}},function(t,e,n){var o=n(13);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){var o=n(1)("iterator"),r=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){r=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i={};i[o]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var o,r,i,a=n(0),c=n(4),u=n(27),f=n(44),s=n(89),l=n(53),h=n(99),y=a.location,w=a.setImmediate,p=a.clearImmediate,d=a.process,x=a.MessageChannel,v=a.Dispatch,b=0,g={},m=function(t){if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},S=function(t){return function(){m(t)}},O=function(t){m(t.data)},P=function(t){a.postMessage(t+"",y.protocol+"//"+y.host)};w&&p||(w=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},o(b),b},p=function(t){delete g[t]},"process"==u(d)?o=function(t){d.nextTick(S(t))}:v&&v.now?o=function(t){v.now(S(t))}:x&&!h?(i=(r=new x).port2,r.port1.onmessage=O,o=f(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||c(P)||"file:"===y.protocol?o="onreadystatechange"in l("script")?function(t){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),m(t)}}:function(t){setTimeout(S(t),0)}:(o=P,a.addEventListener("message",O,!1))),t.exports={set:w,clear:p}},function(t,e,n){var o=n(100);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},function(t,e,n){var o=n(28);t.exports=o("navigator","userAgent")||""},function(t,e,n){"use strict";var o=n(29),r=function(t){var e,n;this.promise=new t((function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o})),this.resolve=o(e),this.reject=o(n)};t.exports.f=function(t){return new r(t)}},function(t,e,n){var o=n(59),r=n(40),i=function(t){return function(e,n){var i,a,c=String(r(e)),u=o(n),f=c.length;return u<0||u>=f?t?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===f||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):i:t?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var o=n(1);e.f=o},function(t,e,n){var o=n(79),r=n(14),i=n(104),a=n(17).f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});r(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){"use strict";var o=n(13);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var o=n(3),r=n(4),i=n(45),a=n(12),c=n(24),u=n(23),f=n(67),s=n(86),l=n(49),h=n(1),y=n(66),w=h("isConcatSpreadable"),p=y>=51||!r((function(){var t=[];return t[w]=!1,t.concat()[0]!==t})),d=l("concat"),x=function(t){if(!a(t))return!1;var e=t[w];return void 0!==e?!!e:i(t)};o({target:"Array",proto:!0,forced:!p||!d},{concat:function(t){var e,n,o,r,i,a=c(this),l=s(a,0),h=0;for(e=-1,o=arguments.length;e<o;e++)if(x(i=-1===e?a:arguments[e])){if(h+(r=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in i&&f(l,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");f(l,h++,i)}return l.length=h,l}})},function(t,e,n){"use strict";var o=n(3),r=n(132).left,i=n(46),a=n(25),c=i("reduce"),u=a("reduce",{1:0});o({target:"Array",proto:!0,forced:!c||!u},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o=n(3),r=n(30).filter,i=n(49),a=n(25),c=i("filter"),u=a("filter");o({target:"Array",proto:!0,forced:!c||!u},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){},function(t,e,n){},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(0),r=n(55),i=o.WeakMap;t.exports="function"==typeof i&&/native code/.test(r(i))},function(t,e,n){var o=n(28),r=n(58),i=n(83),a=n(13);t.exports=o("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var o=n(19),r=n(17),i=n(13),a=n(62);t.exports=o?Object.defineProperties:function(t,e){i(t);for(var n,o=a(e),c=o.length,u=0;c>u;)r.f(t,n=o[u++],e[n]);return t}},function(t,e,n){"use strict";var o=n(91).IteratorPrototype,r=n(47),i=n(32),a=n(48),c=n(35),u=function(){return this};t.exports=function(t,e,n){var f=e+" Iterator";return t.prototype=r(o,{next:i(1,n)}),a(t,f,!1,!0),c[f]=u,t}},function(t,e,n){var o=n(13),r=n(118);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return o(n),r(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var o=n(12);t.exports=function(t){if(!o(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var o=n(65),r=n(93);t.exports=o?{}.toString:function(){return"[object "+r(this)+"]"}},function(t,e,n){var o=n(0);t.exports=o.Promise},function(t,e,n){var o=n(22);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},function(t,e,n){"use strict";var o=n(28),r=n(17),i=n(1),a=n(19),c=i("species");t.exports=function(t){var e=o(t),n=r.f;a&&e&&!e[c]&&n(e,c,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var o=n(13),r=n(94),i=n(23),a=n(44),c=n(95),u=n(96),f=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,s,l){var h,y,w,p,d,x,v,b=a(e,n,s?2:1);if(l)h=t;else{if("function"!=typeof(y=c(t)))throw TypeError("Target is not iterable");if(r(y)){for(w=0,p=i(t.length);p>w;w++)if((d=s?b(o(v=t[w])[0],v[1]):b(t[w]))&&d instanceof f)return d;return new f(!1)}h=y.call(t)}for(x=h.next;!(v=x.call(h)).done;)if("object"==typeof(d=u(h,b,v.value,s))&&d&&d instanceof f)return d;return new f(!1)}).stop=function(t){return new f(!0,t)}},function(t,e,n){var o=n(13),r=n(29),i=n(1)("species");t.exports=function(t,e){var n,a=o(t).constructor;return void 0===a||null==(n=o(a)[i])?e:r(n)}},function(t,e,n){var o,r,i,a,c,u,f,s,l=n(0),h=n(39).f,y=n(27),w=n(98).set,p=n(99),d=l.MutationObserver||l.WebKitMutationObserver,x=l.process,v=l.Promise,b="process"==y(x),g=h(l,"queueMicrotask"),m=g&&g.value;m||(o=function(){var t,e;for(b&&(t=x.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():i=void 0,t}}i=void 0,t&&t.enter()},b?a=function(){x.nextTick(o)}:d&&!p?(c=!0,u=document.createTextNode(""),new d(o).observe(u,{characterData:!0}),a=function(){u.data=c=!c}):v&&v.resolve?(f=v.resolve(void 0),s=f.then,a=function(){s.call(f,o)}):a=function(){w.call(l,o)}),t.exports=m||function(t){var e={fn:t,next:void 0};i&&(i.next=e),r||(r=e,a()),i=e}},function(t,e,n){var o=n(13),r=n(12),i=n(101);t.exports=function(t,e){if(o(t),r(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var o=n(0);t.exports=function(t,e){var n=o.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var o=n(26),r=n(58).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(o(t))}},function(t,e,n){"use strict";var o=n(44),r=n(24),i=n(96),a=n(94),c=n(23),u=n(67),f=n(95);t.exports=function(t){var e,n,s,l,h,y,w=r(t),p="function"==typeof this?this:Array,d=arguments.length,x=d>1?arguments[1]:void 0,v=void 0!==x,b=f(w),g=0;if(v&&(x=o(x,d>2?arguments[2]:void 0,2)),null==b||p==Array&&a(b))for(n=new p(e=c(w.length));e>g;g++)y=v?x(w[g],g):w[g],u(n,g,y);else for(h=(l=b.call(w)).next,n=new p;!(s=h.call(l)).done;g++)y=v?i(l,x,[s.value,g],!0):s.value,u(n,g,y);return n.length=g,n}},function(t,e,n){var o=n(29),r=n(24),i=n(52),a=n(23),c=function(t){return function(e,n,c,u){o(n);var f=r(e),s=i(f),l=a(f.length),h=t?l-1:0,y=t?-1:1;if(c<2)for(;;){if(h in s){u=s[h],h+=y;break}if(h+=y,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=y)h in s&&(u=n(u,s[h],h,f));return u}};t.exports={left:c(!1),right:c(!0)}},function(t,e,n){"use strict";var o=n(29),r=n(12),i=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";a[e]=Function("C,a","return new C("+o.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=o(this),n=i.call(arguments,1),a=function(){var o=n.concat(i.call(arguments));return this instanceof a?c(e,o.length,o):e.apply(t,o)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";var o=n(4);function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";n(51);var o=n(22),r=n(4),i=n(1),a=n(69),c=n(20),u=i("species"),f=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),s="$0"==="a".replace(/./,"$0"),l=i("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),y=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var w=i(t),p=!r((function(){var e={};return e[w]=function(){return 7},7!=""[t](e)})),d=p&&!r((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[w]=/./[w]),n.exec=function(){return e=!0,null},n[w](""),!e}));if(!p||!d||"replace"===t&&(!f||!s||h)||"split"===t&&!y){var x=/./[w],v=n(w,""[t],(function(t,e,n,o,r){return e.exec===a?p&&!r?{done:!0,value:x.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=v[0],g=v[1];o(String.prototype,t,b),o(RegExp.prototype,w,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}l&&c(RegExp.prototype[w],"sham",!0)}},function(t,e,n){"use strict";var o=n(102).charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},function(t,e,n){var o=n(27),r=n(69);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";var o=n(3),r=n(81).indexOf,i=n(46),a=n(25),c=[].indexOf,u=!!c&&1/[1].indexOf(1,-0)<0,f=i("indexOf"),s=a("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:u||!f||!s},{indexOf:function(t){return u?c.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var o=n(3),r=n(30).some,i=n(46),a=n(25),c=i("some"),u=a("some");o({target:"Array",proto:!0,forced:!c||!u},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n.r(e);n(110),n(111),n(18),n(5),n(64),n(2),n(31),n(6),n(21),n(7);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"x",0),o(this,"y",0),this.x=e,this.y=n};function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a,c=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"width",0),i(this,"height",0),this.width=e,this.height=n},u=n.p+"f90da3eebb31deea32b2bf064df9c2d8.png",f=n.p+"b928d88f4be87ddc017e147e8bc75963.png",s=n(71),l=n.p+"41686cf726ea390cf3ad491078670f70.png",h=n.p+"4aab5d98db09a305a9f49056351a6177.png",y=n(72),w=n.p+"597502e16af153b82f5a90a0f831eca4.png",p=n.p+"0a848bb273d1143f8554daffc60c5b43.png",d=n(73),x=n.p+"eb7af1bd31ca3c01257595548f607c27.png",v=n.p+"2b77e19c87145ba7f6737cb29dcca394.png",b=n(74);n(8),n(9),n(10),n(36),n(37),n(38),n(11);function g(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Bright=0]="Bright",t[t.Dark=1]="Dark"}(a||(a={}));var O=function t(e,n,o,r,i,a){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,"resource",void 0),S(this,"color",void 0),S(this,"family",void 0),S(this,"size",void 0),S(this,"height",void 0),S(this,"characterDefinitionList",void 0),S(this,"draw",(function(t,e,n){var o,r=e.x,i=e.y;return g(t).forEach((function(t){void 0!==(o=u.characterDefinitionList[t])&&(n.imageSmoothingEnabled=!1,n.drawImage(u.resource.data,o.x,o.y,o.w,o.h,r,i+(u.size-o.oy),o.w,o.h),r+=o.width-o.ox)})),u})),S(this,"measure",(function(t){var e,n=0;return g(t).forEach((function(t){void 0!==(e=u.characterDefinitionList[t])&&(n+=e.width-e.ox)})),new c(n,u.height)})),this.resource=e,this.color=n,this.family=o,this.size=r,this.height=i,this.characterDefinitionList=a},P=[[s,a.Bright,u],[s,a.Dark,f],[y,a.Bright,l],[y,a.Dark,h],[d,a.Bright,w],[d,a.Dark,p],[b,a.Bright,x],[b,a.Dark,v]];n(50);function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),T(this,"resourceLoader",void 0),T(this,"cache",[]),T(this,"load",(function(t){return new Promise((function(e){t.forEach((function(t){n.cache.push(new O(n.resourceLoader.get(t[2]),t[1],t[0].family,t[0].size,t[0].height,t[0].characterDefinitionList))})),e()}))})),T(this,"get",(function(t,e,o){var r=n.cache.find((function(n){return n.family===t&&n.size===e&&n.color===o}));if(void 0===r)throw new Error("Invalid family or size.");return r})),this.resourceLoader=e},L=(n(107),n(68),n(108),n(15),n(16),n(51),n(70),n.p+"ad9434618e9b8fd6c1232bfd41031907.png"),j=n.p+"5b47e2945a706a1738dd8463b4772f7b.png",R=n.p+"42c38fbb680cf2ce95816f178f192240.png",_=n.p+"2b400243341ac6d6b5c4717e94a123fc.png",M=n.p+"3ac104786691a283578f52ad4ecab570.png",A=n.p+"33d9c1db41dd262f50f3a6e1461034db.png",I=n.p+"915764150453dd8d229dd2ec36c5085b.png",C=n.p+"da09a3c0ed12bdb2484a082ae27f088a.png",D=n.p+"79f0a9b98b9463ef30f305c3364e659b.png",z=n.p+"52201edfc533f3459205f5e694f4a7db.png",k=n.p+"b087c3e1a7efc4a292307d814181c115.png",N=n.p+"f82991973d9bb3e603a95c9efa8e9245.png";function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=K(t);if(e){var r=K(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return G(this,n)}}function G(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(n,t);var e=W(n);function n(){return U(this,n),e.apply(this,arguments)}return n}(r);function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,"x",0),Z(this,"y",0),this.x=e,this.y=n};function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=X(t);if(e){var r=X(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Q(this,n)}}function Q(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(n,t);var e=q(n);function n(){return H(this,n),e.apply(this,arguments)}return n}(Y);function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,"width",0),et(this,"height",0),this.width=e,this.height=n};function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=st(t);if(e){var r=st(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ut(this,n)}}function ut(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?ft(t):e}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(n,t);var e=ct(n);function n(t,o,i,a){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),lt(ft(u=e.call(this,t,o)),"text",void 0),lt(ft(u),"font",void 0),lt(ft(u),"draw",(function(t,e){var n=u.font.measure(u.text).width,o=u.parent.width;u.font.draw(u.text,new r((o-n)/2+t.x,t.y),e)})),lt(ft(u),"measure",(function(){return new c(u.parent.width,u.font.measure(u.text).height)})),u.text=i,u.font=a,u}return n}((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ot(this,t),rt(this,"parent",void 0),rt(this,"marginTop",void 0),this.parent=e,this.marginTop=n}));function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=vt(t);if(e){var r=vt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return dt(this,n)}}function dt(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?xt(t):e}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(n,t);var e=pt(n);function n(t,o,r,i,a){var c,u,f,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),c=e.call(this,t,o,r,i),u=xt(c),s=!1,(f="selected")in u?Object.defineProperty(u,f,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[f]=s,c.selected=a,c}return n}(ht);function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mt=function t(e,n,o,i,a){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,"componentList",[]),gt(this,"tileMap",void 0),gt(this,"parent",void 0),gt(this,"width",void 0),gt(this,"text",void 0),gt(this,"font",void 0),gt(this,"draw",(function(e){var n=u.calculateSize(),o=u.calculatePosition(n);u.tileMap.get(new Y(0,0)).draw(new r(o.x,o.y),e),u.tileMap.get(new Y(1,0)).drawStretched(new r(o.x+u.tileMap.tileSize.width,o.y),new c(n.width-2*u.tileMap.tileSize.width,u.tileMap.tileSize.height),e),u.tileMap.get(new Y(2,0)).draw(new r(o.x+n.width-u.tileMap.tileSize.width,o.y),e),u.tileMap.get(new Y(0,1)).drawStretched(new r(o.x,o.y+u.tileMap.tileSize.height),new c(u.tileMap.tileSize.width,n.height-2*u.tileMap.tileSize.height),e),u.tileMap.get(new Y(1,1)).drawStretched(new r(o.x+u.tileMap.tileSize.width,o.y+u.tileMap.tileSize.height),new c(n.width-2*u.tileMap.tileSize.width,n.height-2*u.tileMap.tileSize.height),e),u.tileMap.get(new Y(2,1)).drawStretched(new r(o.x+n.width-u.tileMap.tileSize.width,o.y+u.tileMap.tileSize.height),new c(u.tileMap.tileSize.width,n.height-2*u.tileMap.tileSize.height),e),u.tileMap.get(new Y(0,2)).draw(new r(o.x,o.y+n.height-u.tileMap.tileSize.height),e),u.tileMap.get(new Y(1,2)).drawStretched(new r(o.x+u.tileMap.tileSize.width,o.y+n.height-u.tileMap.tileSize.height),new c(n.width-2*u.tileMap.tileSize.width,u.tileMap.tileSize.height),e),u.tileMap.get(new Y(2,2)).draw(new r(o.x+n.width-u.tileMap.tileSize.width,o.y+n.height-u.tileMap.tileSize.height),e);var i=u.font.measure(u.text);u.font.draw(u.text,new r((n.width-i.width)/2+o.x,o.y-i.height),e);var a=o.y;u.componentList.forEach((function(n){a+=n.marginTop+t.PADDING,n.draw(new r(o.x+t.PADDING,a),e),a+=n.measure().height}))})),gt(this,"calculatePosition",(function(t){return new r((u.parent.width-t.width)/2,(u.parent.height-t.height)/2)})),gt(this,"calculateSize",(function(){var e=0;return u.componentList.forEach((function(n){e+=n.measure().height+n.marginTop+t.PADDING})),new c(u.width+2*t.PADDING,e+t.PADDING)})),this.tileMap=e,this.parent=n,this.width=o,this.text=i,this.font=a};gt(mt,"PADDING",6);var St,Ot=function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=!1,(n="finished")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o};function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Walk=0]="Walk",t[t.Push=1]="Push",t[t.Stand=2]="Stand"}(St||(St={}));var Tt=function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pt(this,"directionAnimationList",void 0),Pt(this,"duration",void 0),0===Object.keys(e).length)throw new Error("There must be at least one directionType defined.");this.directionAnimationList=e,this.duration=n};var Et=function t(e){var n,o,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=void 0,(o="frameList")in(n=this)?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,0===e.length)throw new Error("There must be at least one frame.");this.frameList=e};function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt,Rt=function t(e,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Lt(this,"left",void 0),Lt(this,"right",void 0),Lt(this,"top",void 0),Lt(this,"bottom",void 0),this.left=e,this.right=n,this.top=o,this.bottom=r};function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(jt||(jt={}));var Mt=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_t(this,"tile",void 0),_t(this,"duration",void 0),this.tile=e,this.duration=n};function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct=function t(e,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St.Stand,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jt.Down;if(At(this,t),It(this,"actionList",void 0),It(this,"collisionOffset",void 0),It(this,"actionType",void 0),It(this,"directionType",void 0),It(this,"position",new r(0,0)),It(this,"endPosition",new r(0,0)),It(this,"actionTimer",0),It(this,"animationIndex",0),It(this,"animationTimer",0),It(this,"setAction",(function(t,e){if(o.position.x===o.endPosition.x&&o.position.y===o.endPosition.y){if(void 0===o.actionList[t])throw new Error("Invalid actionType type");if(void 0===o.getAction().directionAnimationList[e])throw new Error("Invalid directionType type");if(o.actionType=t,o.directionType=e,o.actionTimer=0,o.animationIndex=0,o.animationTimer=0,o.actionType!==St.Stand)switch(e){case jt.Up:o.endPosition.y-=On.TILE_SIZE.height;break;case jt.Down:o.endPosition.y+=On.TILE_SIZE.height;break;case jt.Left:o.endPosition.x-=On.TILE_SIZE.width;break;case jt.Right:o.endPosition.x+=On.TILE_SIZE.width}}})),It(this,"update",(function(t){var e=o.getAction(),n=o.getDirection(),r=16/(e.duration/t);o.position.x>o.endPosition.x?o.position.x-=r:o.position.x<o.endPosition.x&&(o.position.x+=r),o.position.y>o.endPosition.y?o.position.y-=r:o.position.y<o.endPosition.y&&(o.position.y+=r),o.actionTimer+=t,o.animationTimer+=t;var i=n.frameList[o.animationIndex];o.animationTimer>i.duration&&i.duration>0&&(o.animationTimer=0,o.animationIndex++,o.animationIndex>=n.frameList.length&&(o.animationIndex=0)),o.actionTimer>=e.duration&&(o.setAction(St.Stand,o.directionType),o.position.x=o.endPosition.x,o.position.y=o.endPosition.y)})),It(this,"draw",(function(t,e){o.getDirection().frameList[o.animationIndex].tile.draw(new r(t.x+o.position.x-o.collisionOffset.left,t.y+o.position.y-o.collisionOffset.top),e)})),It(this,"getLevelPosition",(function(){return new Y(Math.floor(o.position.x/On.TILE_SIZE.width),Math.floor(o.position.y/On.TILE_SIZE.height))})),It(this,"setLevelPosition",(function(t){o.position.x=t.x*On.TILE_SIZE.width,o.position.y=t.y*On.TILE_SIZE.height,o.endPosition.x=o.position.x,o.endPosition.y=o.position.y})),It(this,"getAction",(function(){return o.actionList[o.actionType]})),It(this,"getDirection",(function(){return o.getAction().directionAnimationList[o.directionType]})),0===Object.keys(e).length)throw new Error("There must be at least one actionType.");this.actionList=e,this.collisionOffset=n,this.actionType=i,this.directionType=a};function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ut(t);if(e){var r=Ut(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(n,t);var e=Nt(n);function n(t){var o,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,(zt(i={},St.Stand,new Tt((zt(o={},jt.Up,new Et([new Mt(t.get(new Y(0,0)),0)])),zt(o,jt.Down,new Et([new Mt(t.get(new Y(0,0)),0)])),zt(o,jt.Left,new Et([new Mt(t.get(new Y(0,0)),0)])),zt(o,jt.Right,new Et([new Mt(t.get(new Y(0,0)),0)])),o),0)),zt(i,St.Walk,new Tt((zt(r={},jt.Up,new Et([new Mt(t.get(new Y(0,0)),0)])),zt(r,jt.Down,new Et([new Mt(t.get(new Y(0,0)),0)])),zt(r,jt.Left,new Et([new Mt(t.get(new Y(0,0)),0)])),zt(r,jt.Right,new Et([new Mt(t.get(new Y(0,0)),0)])),r),.5)),i),new Rt(0,16,4,16))}return n}(Ct);function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Yt(t);if(e){var r=Yt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Zt(this,n)}}function Zt(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(n,t);var e=Vt(n);function n(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,Gt({},St.Stand,new Tt((Gt(o={},jt.Up,new Et([new Mt(t.get(new Y(0,0)),0)])),Gt(o,jt.Down,new Et([new Mt(t.get(new Y(0,0)),0)])),Gt(o,jt.Left,new Et([new Mt(t.get(new Y(0,0)),0)])),Gt(o,jt.Right,new Et([new Mt(t.get(new Y(0,0)),0)])),o),0)),new Rt(0,16,2,16))}return n}(Ct);function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=te(t);if(e){var r=te(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){return!e||"object"!==Ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee,ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(n,t);var e=Qt(n);function n(t){var o,r,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,(Jt(a={},St.Stand,new Tt((Jt(o={},jt.Up,new Et([new Mt(t.get(new Y(0,2)),0)])),Jt(o,jt.Down,new Et([new Mt(t.get(new Y(0,3)),0)])),Jt(o,jt.Left,new Et([new Mt(t.get(new Y(0,0)),0)])),Jt(o,jt.Right,new Et([new Mt(t.get(new Y(0,1)),0)])),o),0)),Jt(a,St.Walk,new Tt((Jt(r={},jt.Up,new Et([new Mt(t.get(new Y(1,2)),.15),new Mt(t.get(new Y(0,2)),.1),new Mt(t.get(new Y(2,2)),.15),new Mt(t.get(new Y(0,2)),.1)])),Jt(r,jt.Down,new Et([new Mt(t.get(new Y(1,3)),.15),new Mt(t.get(new Y(0,3)),.1),new Mt(t.get(new Y(2,3)),.15),new Mt(t.get(new Y(0,3)),.1)])),Jt(r,jt.Left,new Et([new Mt(t.get(new Y(1,0)),.15),new Mt(t.get(new Y(0,0)),.1),new Mt(t.get(new Y(2,0)),.15),new Mt(t.get(new Y(0,0)),.1)])),Jt(r,jt.Right,new Et([new Mt(t.get(new Y(1,1)),.15),new Mt(t.get(new Y(0,1)),.1),new Mt(t.get(new Y(2,1)),.15),new Mt(t.get(new Y(0,1)),.1)])),r),.5)),Jt(a,St.Push,new Tt((Jt(i={},jt.Up,new Et([new Mt(t.get(new Y(4,2)),.15),new Mt(t.get(new Y(3,2)),.1),new Mt(t.get(new Y(5,2)),.15),new Mt(t.get(new Y(3,2)),.1)])),Jt(i,jt.Down,new Et([new Mt(t.get(new Y(4,3)),.15),new Mt(t.get(new Y(3,3)),.1),new Mt(t.get(new Y(5,3)),.15),new Mt(t.get(new Y(3,3)),.1)])),Jt(i,jt.Left,new Et([new Mt(t.get(new Y(4,0)),.15),new Mt(t.get(new Y(3,0)),.1),new Mt(t.get(new Y(5,0)),.15),new Mt(t.get(new Y(3,0)),.1)])),Jt(i,jt.Right,new Et([new Mt(t.get(new Y(4,1)),.15),new Mt(t.get(new Y(3,1)),.1),new Mt(t.get(new Y(5,1)),.15),new Mt(t.get(new Y(3,1)),.1)])),i),.5)),a),new Rt(1,18,12,24))}return n}(Ct);function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Undefined=-1]="Undefined",t[t.Wall=0]="Wall",t[t.Floor=1]="Floor",t[t.Void=2]="Void",t[t.Water=3]="Water"}(ee||(ee={}));var re=function t(e,n,o){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,"resource",void 0),oe(this,"position",void 0),oe(this,"size",void 0),oe(this,"draw",(function(t,e){r.drawStretched(t,r.size,e)})),oe(this,"drawStretched",(function(t,e,n){n.imageSmoothingEnabled=!1,n.drawImage(r.resource.data,r.position.x,r.position.y,r.size.width,r.size.height,t.x,t.y,e.width,e.height)})),this.resource=e,this.position=n,this.size=o};function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t){return function(t){if(Array.isArray(t))return ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=he(t);if(e){var r=he(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return se(this,n)}}function se(t,e){return!e||"object"!==ie(e)&&"function"!=typeof e?le(t):e}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(n,t);var e=fe(n);function n(t,o,i,c,u){var f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),ye(le(f=e.call(this)),"name",void 0),ye(le(f),"tileTypeMap",[[]]),ye(le(f),"playerPosition",void 0),ye(le(f),"boxPositionList",void 0),ye(le(f),"destinationPositionList",void 0),ye(le(f),"size",void 0),ye(le(f),"fontLoader",void 0),ye(le(f),"tileMapLoader",void 0),ye(le(f),"levelCanvas",void 0),ye(le(f),"levelContext",void 0),ye(le(f),"pausePanel",void 0),ye(le(f),"winPanel",void 0),ye(le(f),"player",void 0),ye(le(f),"boxList",void 0),ye(le(f),"destinationList",void 0),ye(le(f),"moves",0),ye(le(f),"pushes",0),ye(le(f),"time",0),ye(le(f),"paused",!1),ye(le(f),"won",!1),ye(le(f),"levelBuffered",!1),ye(le(f),"load",(function(t,e,n,o){f.fontLoader=n,f.tileMapLoader=e,f.levelCanvas=document.createElement("canvas"),f.levelCanvas.width=o.width,f.levelCanvas.height=o.height;var r=f.levelCanvas.getContext("2d");if(null===r)throw new Error("2D context not supported");f.levelContext=r;var i=f.tileMapLoader.get(I),c=f.fontLoader.get("Yoster Island",14,a.Bright),u=f.fontLoader.get("Yoster Island",10,a.Dark);f.pausePanel=new mt(i,f.levelCanvas,140,"Pause",c),f.pausePanel.componentList.push(new bt(f.pausePanel,0,"Options",u,!1),new bt(f.pausePanel,0,"Reload level",u,!1),new bt(f.pausePanel,0,"Select level",u,!1),new bt(f.pausePanel,6,"Back to game",u,!0)),f.winPanel=new mt(i,f.levelCanvas,140,"You win!",c),f.winPanel.componentList.push(new ht(f.pausePanel,0,"Moves: "+f.moves,u),new ht(f.pausePanel,0,"Pushes: "+f.pushes,u),new ht(f.pausePanel,0,"Time: "+f.time,u),new bt(f.pausePanel,6,"Next level",u,!0)),f.player=new ne(f.tileMapLoader.get(_)),f.player.setLevelPosition(f.playerPosition),f.boxList=f.boxPositionList.map((function(t){var e=new Bt(f.tileMapLoader.get(L));return e.setLevelPosition(t),e})),f.destinationList=f.destinationPositionList.map((function(t){var e=new $t(f.tileMapLoader.get(R));return e.setLevelPosition(t),e})),f.moves=0,f.pushes=0,f.time=0,f.paused=!1,f.won=!1,f.levelBuffered=!1})),ye(le(f),"control",(function(t,e){var n,o=!1,r=!1;switch(t){case"KeyW":case"ArrowUp":f.player.actionType!==St.Stand||f.won||f.paused||(r=(n=f.controlDirection(jt.Up,new tt(0,-1)))===St.Push,o=n===St.Walk||n===St.Push);break;case"KeyS":case"ArrowDown":f.player.actionType!==St.Stand||f.won||f.paused||(r=(n=f.controlDirection(jt.Down,new tt(0,1)))===St.Push,o=n===St.Walk||n===St.Push);break;case"KeyA":case"ArrowLeft":f.player.actionType!==St.Stand||f.won||f.paused||(r=(n=f.controlDirection(jt.Left,new tt(-1,0)))===St.Push,o=n===St.Walk||n===St.Push);break;case"KeyD":case"ArrowRight":f.player.actionType!==St.Stand||f.won||f.paused||(r=(n=f.controlDirection(jt.Right,new tt(1,0)))===St.Push,o=n===St.Walk||n===St.Push);break;case"Space":case"Enter":case"Escape":e>=200&&(f.won?f.finished=!0:f.paused=!f.paused)}o&&f.moves++,r&&f.pushes++})),ye(le(f),"update",(function(t){var e,n;f.won||f.paused||(f.time+=t,f.won=f.boxList.map((function(t){e=t.getLevelPosition();for(var o=0;o<f.destinationList.length;o++)if(n=f.destinationList[o].getLevelPosition(),e.x===n.x&&e.y===n.y)return!0;return!1})).reduce((function(t,e){return t&&e}),!0));f.player.update(t),f.boxList.forEach((function(e){e.update(t)}))})),ye(le(f),"draw",(function(t,e){var n=new nt(t.width/On.TILE_SIZE.width,t.height/On.TILE_SIZE.height),o=new V((n.width-f.size.width)/2*On.TILE_SIZE.width,(n.height-f.size.height+2)/2*On.TILE_SIZE.height),i=[].concat(ae(f.destinationList),ae(f.boxList),[f.player]);if(f.levelBuffered||(f.drawLevelToBuffer(n,o),f.levelBuffered=!0),e.imageSmoothingEnabled=!1,e.drawImage(f.levelCanvas,0,0),On.RENDER_SHADOWS){var c=f.tileMapLoader.get(M);i.forEach((function(t){c.get(new Y(0,0)).draw(new r(o.x+t.position.x,o.y+t.position.y),e)}))}i.forEach((function(t){t.draw(o,e)})),f.fontLoader.get("Yoster Island",10,a.Bright).draw("Moves",new r(10,256),e).draw(String(f.moves),new r(64,256),e).draw("Pushes",new r(10,270),e).draw(String(f.pushes),new r(64,270),e).draw("Time",new r(10,284),e).draw(String(Math.floor(f.time)),new r(64,284),e),f.won?f.winPanel.draw(e):f.paused&&f.pausePanel.draw(e)})),ye(le(f),"controlDirection",(function(t,e){var n=void 0,o=f.player.getLevelPosition(),r=new Y(o.x+e.x,o.y+e.y);if(f.isTileTypeAt(r,ee.Floor)){var i=f.isBoxAt(r);if(void 0!==i){var a=new Y(r.x+e.x,r.y+e.y);f.isTileTypeAt(a,ee.Floor)&&void 0===f.isBoxAt(a)?(n=St.Push,i.setAction(St.Walk,t)):n=St.Stand}else n=St.Walk}else n=St.Stand;return f.player.setAction(n,t),n})),ye(le(f),"drawLevelToBuffer",(function(t,e){f.levelContext.imageSmoothingEnabled=!1,f.levelContext.fillStyle=On.BACKGROUND_COLOR,f.levelContext.fillRect(0,0,f.levelContext.canvas.width,f.levelContext.canvas.height);for(var n=f.tileMapLoader.get(z),o=0;o<t.height;o++)for(var i=0;i<t.width;i++){var a=n.getRandomTile();a.draw(new r(i*a.size.width,o*a.size.height),f.levelContext)}f.tileMapLoader.get(j).get(new Y(0,0)).draw(On.MOON_POSITION,f.levelContext);for(var c,u,s=f.tileMapLoader.get(A),l=f.tileMapLoader.get(N),h=f.tileMapLoader.get(C),y=f.tileMapLoader.get(D),w=f.tileMapLoader.get(k),p=function(t){for(var n=function(n){var o,i;switch(u=[],f.tileTypeMap[t][n]){case ee.Floor:var a;if(u.push(s.getRandomTile()),On.RENDER_PILLARS)c=f.getPatternAt(new Y(n,t),ee.Floor),(a=u).push.apply(a,ae(c.match(/......0./)?h.getOffsetTileListByPattern(c):[]));break;case ee.Void:c=f.getPatternAt(new Y(n,t),ee.Floor),(o=u).push.apply(o,ae("00000000"!==c?y.getOffsetTileListByPattern(c):[]));break;case ee.Water:c=f.getPatternAt(new Y(n,t),ee.Floor),(i=u).push.apply(i,["00000000"===c?l.getRandomTile():l.get(new Y(0,0))].concat(ae("00000000"!==c?w.getOffsetTileListByPattern(c):[])))}u.forEach((function(o){o.offset||(o.offset=new V(0,0)),o.draw(new r(o.offset.x+e.x+n*On.TILE_SIZE.width,o.offset.y+e.y+t*On.TILE_SIZE.height),f.levelContext)}))},o=0;o<f.size.width;o++)n(o)},d=0;d<f.size.height;d++)p(d)})),ye(le(f),"getPatternAt",(function(t,e){return[new Y(t.x-1,t.y-1),new Y(t.x,t.y-1),new Y(t.x+1,t.y-1),new Y(t.x-1,t.y),new Y(t.x+1,t.y),new Y(t.x-1,t.y+1),new Y(t.x,t.y+1),new Y(t.x+1,t.y+1)].map((function(t){return f.isTileTypeAt(t,e)})).reduce((function(t,e){return t.concat(e?"1":"0")}),"")})),ye(le(f),"isBoxAt",(function(t){for(var e,n=0;n<f.boxList.length;n++)if((e=f.boxList[n].getLevelPosition()).x===t.x&&e.y===t.y)return f.boxList[n]})),ye(le(f),"isTileTypeAt",(function(t,e){return!(t.x<0||t.x>=f.tileTypeMap[0].length||t.y<0||t.y>=f.tileTypeMap.length)&&f.tileTypeMap[t.y][t.x]===e})),f.name=t,f.tileTypeMap=o,f.playerPosition=i,f.boxPositionList=c,f.destinationPositionList=u,f.size=new nt(o[0].length,o.length),f}return n}(Ot),pe=n.p+"2d5731f86cfad6c301e1e7b7e2126612.txt",de=[pe];n(138),n(109),n(139);function xe(t){return function(t){if(Array.isArray(t))return ve(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),be(this,"tileTypeMap",[[]]),be(this,"playerPosition",void 0),be(this,"boxPositionList",[]),be(this,"destinationPositionList",[]),be(this,"parse",(function(t){return new Promise((function(n){n(xe(t.data.matchAll(/[\r\n]*([ #$@*.\r\n]*); *(.+)/g)).map((function(t){return e.tileTypeMap=[[]],e.playerPosition=void 0,e.boxPositionList=[],e.destinationPositionList=[],e.doParse(t[1]),e.fillRows(),e.floodFillFloor(),e.removeWalls(),e.removeEmptyRows(),e.removeEmptyColumns(),e.addBorder(),On.RENDER_PONDS?(e.floodFillVoid(),e.floodFillPonds()):e.fillVoid(),new we(t[2],e.tileTypeMap,e.getPlayerPosition(),e.boxPositionList,e.destinationPositionList)})))}))})),be(this,"doParse",(function(t){var n=0,o=0;if(xe(t).forEach((function(t){switch(t){case"\n":n=0,e.tileTypeMap[++o]=[];break;case"#":e.tileTypeMap[o][n++]=ee.Wall;break;case" ":e.tileTypeMap[o][n++]=ee.Undefined;break;case"@":if(void 0!==e.playerPosition)throw new Error("Invalid level (multiple player)");console.debug("Player found at [".concat(n,", ").concat(o,"]")),e.playerPosition=new Y(n,o),e.tileTypeMap[o][n++]=ee.Undefined;break;case"$":console.debug("Box found at [".concat(n,", ").concat(o,"]")),e.boxPositionList.push(new Y(n,o)),e.tileTypeMap[o][n++]=ee.Undefined;break;case".":console.debug("Destination found at [".concat(n,", ").concat(o,"]")),e.destinationPositionList.push(new Y(n,o)),e.tileTypeMap[o][n++]=ee.Undefined;break;case"*":console.debug("Box on destination found at [".concat(n,", ").concat(o,"]")),e.boxPositionList.push(new Y(n,o)),e.destinationPositionList.push(new Y(n,o)),e.tileTypeMap[o][n++]=ee.Undefined}})),void 0===e.playerPosition)throw new Error("Invalid level (no player)");if(0===e.boxPositionList.length)throw new Error("Invalid level (no boxes)");if(0===e.destinationPositionList.length)throw new Error("Invalid level (no destinations)");if(e.boxPositionList.length!==e.destinationPositionList.length)throw new Error("Invalid level (box and destination count is not equal)")})),be(this,"fillRows",(function(){var t=0;e.tileTypeMap.forEach((function(e){e.length>t&&(t=e.length)})),console.debug("Max row length is ".concat(t)),e.tileTypeMap=e.tileTypeMap.map((function(e){var n=t-e.length;if(n>0)for(var o=0;o<n;o++)e.push(ee.Undefined);return e}))})),be(this,"floodFillFloor",(function(){e.floodFill(e.getPlayerPosition(),ee.Floor),e.boxPositionList.forEach((function(t){if(e.tileTypeMap[t.y][t.x]!==ee.Floor)throw new Error("Invalid level (box position not on floor)")})),e.destinationPositionList.forEach((function(t){if(e.tileTypeMap[t.y][t.x]!==ee.Floor)throw new Error("Invalid level (destination position not on floor)")}))})),be(this,"removeWalls",(function(){e.tileTypeMap.forEach((function(t){t.forEach((function(e,n){e===ee.Wall&&(t[n]=ee.Undefined)}))}))})),be(this,"removeEmptyRows",(function(){for(var t=(e.tileTypeMap||[]).map((function(t,n){return e.tileTypeMap[n].some((function(t){return t!==ee.Void}))})),n=0,o=0;o<t.length&&!(t[o]||0!==o&&t[o-1]);o++)n++;e.updatePositions(new tt(0,-n)),e.tileTypeMap=e.tileTypeMap.filter((function(e,n){return t[n]}))})),be(this,"removeEmptyColumns",(function(){for(var t=(e.tileTypeMap[0]||[]).map((function(t,n){return e.tileTypeMap.some((function(t){return t[n]!==ee.Void}))})),n=0,o=0;o<t.length&&!(t[o]||0!==o&&t[o-1]);o++)n++;e.updatePositions(new tt(-n,0)),e.tileTypeMap=e.tileTypeMap.map((function(e){return e.filter((function(e,n){return t[n]}))}))})),be(this,"addBorder",(function(){var t=e.createEmptyRow();e.tileTypeMap=[t].concat(xe(e.tileTypeMap),xe(On.RENDER_PILLARS?[t,t,t]:[t])).map((function(t){return[ee.Undefined].concat(xe(t),[ee.Undefined])})),e.updatePositions(new tt(1,1))})),be(this,"floodFillVoid",(function(){e.floodFill(new Y(0,0),ee.Void)})),be(this,"floodFillPonds",(function(){for(var t=0;t<e.tileTypeMap.length;t++)for(var n=0;n<e.tileTypeMap[0].length;n++)e.tileTypeMap[t][n]===ee.Undefined&&(console.debug("Pond found at [".concat(n,", ").concat(t,"]")),e.floodFill(new Y(n,t),ee.Water))})),be(this,"fillVoid",(function(){for(var t=0;t<e.tileTypeMap.length;t++)for(var n=0;n<e.tileTypeMap[0].length;n++)e.tileTypeMap[t][n]===ee.Undefined&&(e.tileTypeMap[t][n]=ee.Void)})),be(this,"createEmptyRow",(function(){for(var t=[],n=0;n<e.tileTypeMap[0].length;n++)t.push(ee.Void);return t})),be(this,"floodFill",(function(t,n){for(var o=e.tileTypeMap[t.y][t.x],r=new nt(e.tileTypeMap[0].length,e.tileTypeMap.length),i=[t];i.length;){var a=i.pop();if(a){for(var c=new Y(a.x,a.y);c.y>=0&&e.tileTypeMap[c.y][c.x]===o;)c.y--;c.y++;for(var u=!1,f=!1;c.y<r.height&&e.tileTypeMap[c.y][c.x]===o;)e.tileTypeMap[c.y][c.x]=n,c.x>0&&(e.tileTypeMap[c.y][c.x-1]===o?u||(i.push(new Y(c.x-1,c.y)),u=!0):u&&(u=!1)),c.x<r.width-1&&(e.tileTypeMap[c.y][c.x+1]===o?f||(i.push(new Y(c.x+1,c.y)),f=!0):f&&(f=!1)),c.y++}}})),be(this,"getPlayerPosition",(function(){if(void 0===e.playerPosition)throw new Error("Player position is undefined");return e.playerPosition})),be(this,"updatePositions",(function(t){e.getPlayerPosition().x+=t.x,e.getPlayerPosition().y+=t.y,e.boxPositionList.forEach((function(e){e.x+=t.x,e.y+=t.y})),e.destinationPositionList.forEach((function(e){e.x+=t.x,e.y+=t.y}))}))};function me(t){return function(t){if(Array.isArray(t))return Se(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pe=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,"resourceLoader",void 0),Oe(this,"cache",[]),Oe(this,"load",(function(t){return new Promise((function(e){var o=t.length;t.forEach((function(t){console.debug("Loading level ".concat(t,"...")),(new ge).parse(n.resourceLoader.get(t)).then((function(t){var r;(r=n.cache).push.apply(r,me(t)),0==--o&&(console.log("Levels finished loading..."),e(n.cache))}))}))}))})),Oe(this,"first",(function(){return n.cache[0]})),Oe(this,"get",(function(t){var e=n.cache.find((function(e){return e.name===t}));if(void 0===e)throw new Error;return e})),Oe(this,"next",(function(t){var e=n.cache.indexOf(t);if(e>=0&&e<n.cache.length)return n.cache[e+1]})),this.resourceLoader=e},Te=[_,L,R,A,j,I,C,M,z,D,N,k,u,l,w,x,f,h,p,v,pe];function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Le=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(this,"src",void 0),Ee(this,"data",void 0),this.src=e,this.data=n};function je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,"cache",[]),je(this,"load",(function(t){return new Promise((function(n){var o=t.length,r=function(){0==--o&&(console.log("Resources finished loading..."),n(e.cache))};t.forEach((function(t){if(t.match(/^.*\.png$/)){var n=new Image;n.addEventListener("load",(function(){e.cache.push(new Le(t,n)),r()}),!1),n.src=t}else fetch(t).then((function(n){n.text().then((function(n){e.cache.push(new Le(t,n)),r()}))}))}))}))})),je(this,"get",(function(t){var n=e.cache.find((function(e){return e.src===t}));if(void 0===n)throw new Error("Invalid src.");return n}))};var _e=function t(e){var n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=void 0,(o="position")in(n=this)?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,this.position=e};function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ze(t);if(e){var r=ze(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){return!e||"object"!==Me(e)&&"function"!=typeof e?De(t):e}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(n,t);var e=Ie(n);function n(t,o){var r,i,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=e.call(this,t),i=De(r),c=void 0,(a="offset")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,r.offset=o,r}return n}(_e);function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,"pattern",void 0),Ne(this,"offsetTileDefinitionList",void 0),this.pattern=e,this.offsetTileDefinitionList=n};function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){return(Be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function We(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ve(t);if(e){var r=Ve(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ge(this,n)}}function Ge(t,e){return!e||"object"!==Ue(e)&&"function"!=typeof e?Ke(t):e}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Be(t,e)}(n,t);var e=We(n);function n(t,o){var r,i,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=e.call(this,t),i=Ke(r),c=void 0,(a="probability")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,r.probability=o,r}return n}(_e);function Ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $e=function t(e,n,o,r,i,a,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,"src",void 0),Ye(this,"size",void 0),Ye(this,"offset",void 0),Ye(this,"tileSize",void 0),Ye(this,"grid",void 0),Ye(this,"randomTileDefinitionList",void 0),Ye(this,"patternOffsetTileSetDefinitionList",void 0),this.src=e,this.size=n,this.offset=o,this.tileSize=r,this.grid=i,this.randomTileDefinitionList=a,this.patternOffsetTileSetDefinitionList=c},He=[new Fe(/.1.1..../,[new ke(new Y(0,0),new V(0,0))]),new Fe(/.1.0..../,[new ke(new Y(1,0),new V(0,0))]),new Fe(/.1..0.../,[new ke(new Y(2,0),new V(8,0))]),new Fe(/.1..1.../,[new ke(new Y(3,0),new V(8,0))]),new Fe(/.0.1..../,[new ke(new Y(0,1),new V(0,0))]),new Fe(/....0.01/,[new ke(new Y(1,1),new V(8,8))]),new Fe(/...0.10./,[new ke(new Y(2,1),new V(0,8))]),new Fe(/.0..1.../,[new ke(new Y(3,1),new V(8,0))]),new Fe(/...1..0./,[new ke(new Y(0,2),new V(0,8))]),new Fe(/.01.0.../,[new ke(new Y(1,2),new V(8,0))]),new Fe(/10.0..../,[new ke(new Y(2,2),new V(0,0))]),new Fe(/....1.0./,[new ke(new Y(3,2),new V(8,8))]),new Fe(/...1..1./,[new ke(new Y(0,3),new V(0,8))]),new Fe(/...0..1./,[new ke(new Y(1,3),new V(0,8))]),new Fe(/....0.1./,[new ke(new Y(2,3),new V(8,8))]),new Fe(/....1.1./,[new ke(new Y(3,3),new V(8,8))])],Je=[new $e(_,new nt(6,4),new tt(0,0),new c(18,24),1,void 0,void 0),new $e(L,new nt(1,1),new tt(0,0),new c(16,16),0,void 0,void 0),new $e(R,new nt(1,1),new tt(0,0),new c(16,16),0,void 0,void 0),new $e(I,new nt(3,3),new tt(0,0),new c(16,16),0,void 0,void 0),new $e(A,new nt(2,2),new tt(0,0),new c(16,16),0,[new Ze(new Y(0,0),2),new Ze(new Y(1,0),.4),new Ze(new Y(0,1),.1),new Ze(new Y(1,1),.1)],void 0),new $e(j,new nt(1,1),new tt(0,0),new c(32,32),0,void 0,void 0),new $e(M,new nt(1,1),new tt(0,0),new c(16,16),0,void 0,void 0),new $e(C,new nt(3,4),new tt(0,0),new c(16,16),0,void 0,[new Fe(/...00.0./,[new ke(new Y(0,0),new V(0,16)),new ke(new Y(0,1),new V(0,32)),new ke(new Y(0,2),new V(0,48))]),new Fe(/...01.0./,[new ke(new Y(1,0),new V(0,16)),new ke(new Y(1,1),new V(0,32)),new ke(new Y(1,2),new V(0,48))]),new Fe(/...11.0./,[new ke(new Y(2,0),new V(0,16)),new ke(new Y(2,1),new V(0,32)),new ke(new Y(2,2),new V(0,48))]),new Fe(/...10.0./,[new ke(new Y(3,0),new V(0,16)),new ke(new Y(3,1),new V(0,32)),new ke(new Y(3,2),new V(0,48))])]),new $e(z,new nt(2,3),new tt(0,0),new c(16,16),0,[new Ze(new Y(0,0),2),new Ze(new Y(1,0),.1),new Ze(new Y(0,1),.1),new Ze(new Y(1,1),.1),new Ze(new Y(0,2),.1),new Ze(new Y(1,2),.1)],void 0),new $e(D,new nt(4,4),new tt(0,0),new c(8,8),0,void 0,He),new $e(N,new nt(2,2),new tt(0,0),new c(16,16),0,[new Ze(new Y(0,0),2),new Ze(new Y(1,0),.1),new Ze(new Y(0,1),.1),new Ze(new Y(1,1),.1)],void 0),new $e(k,new nt(4,4),new tt(0,0),new c(8,8),0,void 0,He)];function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){return(Qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=nn(t);if(e){var r=nn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return tn(this,n)}}function tn(t,e){return!e||"object"!==qe(e)&&"function"!=typeof e?en(t):e}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nn(t){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var on=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qe(t,e)}(n,t);var e=Xe(n);function n(t,o,r,i){var a,c,u,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a=e.call(this,t,o,r),c=en(a),u="offset",f=new V(0,0),u in c?Object.defineProperty(c,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[u]=f,a.offset=i,a}return n}(re);function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var an=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rn(this,"pattern",void 0),rn(this,"offsetTileList",void 0),this.pattern=e,this.offsetTileList=n};function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){return(un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=hn(t);if(e){var r=hn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return sn(this,n)}}function sn(t,e){return!e||"object"!==cn(e)&&"function"!=typeof e?ln(t):e}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&un(t,e)}(n,t);var e=fn(n);function n(t,o,r,i){var a,c,u,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a=e.call(this,t,o,r),c=ln(a),f=void 0,(u="probability")in c?Object.defineProperty(c,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[u]=f,a.probability=i,a}return n}(re);function wn(t){return function(t){if(Array.isArray(t))return pn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function dn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vn=function(){var t,e,n;function o(t,e,n,r){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),xn(this,"tileTable",void 0),xn(this,"resource",void 0),xn(this,"size",void 0),xn(this,"tileSize",void 0),xn(this,"randomTileList",void 0),xn(this,"patternOffsetTileListList",void 0),xn(this,"get",(function(t){if(t.x<0||t.x>=i.size.width)throw new Error("Invalid column");if(t.y<0||t.y>=i.size.height)throw new Error("Invalid row");return i.tileTable[t.y][t.x]})),xn(this,"getOffsetTileListByPattern",(function(t){if(!i.patternOffsetTileListList)throw new Error("Undefined patternOffsetTileListList");var e=i.patternOffsetTileListList.filter((function(e){return t.match(e.pattern)}));if(0===e.length)throw new Error("Invalid pattern '".concat(t,"'"));var n=[];return e.forEach((function(t){n.push.apply(n,wn(t.offsetTileList))})),n})),xn(this,"getRandomTile",(function(){if(!i.randomTileList)throw new Error("Undefined randomTileDefinitionList");for(var t=0,e=i.randomTileList[0],n=Math.random()*i.randomTileList.reduce((function(t,e){return t+e.probability}),i.randomTileList[0].probability),o=0;o<i.randomTileList.length;o++)if(n<=(t+=i.randomTileList[o].probability)){e=i.randomTileList[o];break}return e})),0===t.length)throw new Error("Invalid tile table (no rows)");if(0===t[0].length)throw new Error("Invalid tile table (no columns)");if(void 0===t[0][0])throw new Error("Invalid tile table (no cells)");this.tileTable=t,this.resource=e,this.size=new nt(t[0].length,t.length),this.tileSize=t[0][0].size,this.randomTileList=n,this.patternOffsetTileListList=r}return t=o,n=[{key:"createTileTable",value:function(t,e,n,o,i){for(var a=[],c=0;c<e.height;c++){a[c]=[];for(var u=0;u<e.width;u++)a[c][u]=new re(t,new r((u+n.x)*(o.width+i),(c+n.y)*(o.height+i)),o)}return a}}],(e=null)&&dn(t.prototype,e),n&&dn(t,n),o}();function bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gn=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bn(this,"resourceLoader",void 0),bn(this,"cache",[]),bn(this,"load",(function(t){return new Promise((function(e){var o;t.forEach((function(t){var e,i;o=n.resourceLoader.get(t.src),n.cache.push(new vn(vn.createTileTable(o,t.size,t.offset,t.tileSize,t.grid),o,null===(e=t.randomTileDefinitionList)||void 0===e?void 0:e.map((function(e){return new yn(o,new r(e.position.x*(t.tileSize.width+t.grid),e.position.y*(t.tileSize.height+t.grid)),t.tileSize,e.probability)})),null===(i=t.patternOffsetTileSetDefinitionList)||void 0===i?void 0:i.map((function(e){return new an(e.pattern,e.offsetTileDefinitionList.map((function(e){return new on(o,new r(e.position.x*(t.tileSize.width+t.grid),e.position.y*(t.tileSize.height+t.grid)),t.tileSize,e.offset)})))}))))})),e()}))})),bn(this,"get",(function(t){var e=n.cache.find((function(e){return e.resource.src===t}));if(void 0===e)throw new Error("Invalid src.");return e})),this.resourceLoader=e};function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var On=function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:304,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;mn(this,t),Sn(this,"resourceLoader",new Re),Sn(this,"tileMapLoader",new gn(this.resourceLoader)),Sn(this,"fontLoader",new E(this.resourceLoader)),Sn(this,"levelLoader",new Pe(this.resourceLoader)),Sn(this,"bufferCanvas",void 0),Sn(this,"bufferContext",void 0),Sn(this,"outputCanvas",void 0),Sn(this,"outputContext",void 0),Sn(this,"scene",void 0),Sn(this,"lastTime",0),Sn(this,"pressedKeyList",{}),Sn(this,"initialize",(function(){console.log("Initializing game..."),n.resourceLoader.load(Te).then((function(){Promise.all([n.tileMapLoader.load(Je),n.fontLoader.load(P),n.levelLoader.load(de)]).then((function(){n.load(n.levelLoader.first())}))}))})),Sn(this,"load",(function(t){n.scene=t,n.scene.load(n.resourceLoader,n.tileMapLoader,n.fontLoader,new c(n.bufferCanvas.width,n.bufferCanvas.height)),n.lastTime=0,n.pressedKeyList={},console.log("Starting game loop..."),n.lastTime=Date.now(),n.loop()})),Sn(this,"loop",(function(){var t=Date.now(),e=(t-n.lastTime)/1e3;if(n.control(t),n.scene.update(e),n.draw(),n.scene.finished&&n.scene instanceof we){var o=n.levelLoader.next(n.scene);o&&n.load(o)}n.lastTime=t,window.requestAnimationFrame(n.loop)})),Sn(this,"control",(function(t){var e;Object.keys(n.pressedKeyList).forEach((function(o){(e=n.pressedKeyList[o]).pressed&&(n.scene.control(o,t-e.startTime),n.pressedKeyList[o].startTime=t)}))})),Sn(this,"draw",(function(){n.scene.draw(n.bufferCanvas,n.bufferContext),n.outputContext.imageSmoothingEnabled=t.SMOOTHING,t.SMOOTHING&&(n.outputContext.imageSmoothingQuality="high"),n.outputContext.drawImage(n.bufferCanvas,0,0,n.bufferCanvas.width,n.bufferCanvas.height,0,0,n.outputCanvas.width,n.outputCanvas.height)})),this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=o,this.bufferCanvas.height=r,this.outputCanvas=e,this.outputCanvas.width=o*i,this.outputCanvas.height=r*i;var a=this.bufferCanvas.getContext("2d");if(null===a)throw new Error("2D context not supported");this.bufferContext=a;var u=this.outputCanvas.getContext("2d");if(null===u)throw new Error("2D context not supported");this.outputContext=u,document.addEventListener("keydown",(function(t){n.pressedKeyList[t.code]?n.pressedKeyList[t.code].pressed=!0:n.pressedKeyList[t.code]={pressed:!0,startTime:0}})),document.addEventListener("keyup",(function(t){n.pressedKeyList[t.code]={pressed:!1,startTime:0}})),window.addEventListener("blur",(function(){n.pressedKeyList={}}))};Sn(On,"BACKGROUND_COLOR","#252230"),Sn(On,"MOON_POSITION",new r(32,32)),Sn(On,"RENDER_PONDS",!0),Sn(On,"RENDER_PILLARS",!0),Sn(On,"RENDER_SHADOWS",!0),Sn(On,"SMOOTHING",!1),Sn(On,"TILE_SIZE",new c(16,16));var Pn=document.getElementById("game");new On(Pn,400,304,2).initialize()}]);